import{L as ta,N as na,O as Sn,P as aa,m as rt,E as oa,_ as Y,o as e,h as j,p as re,k as U,v as Dn,t as ia,Q as ra,a as fe,U as sa,S as ca,M as Bt,V as la,W as ua,X as $n,Y as da,Z as ma,$ as ha,a0 as pa,a1 as ga,a2 as fa,a3 as va,a4 as ba,a5 as at,a6 as ya,a7 as ka,a8 as _a,g as wa,T as Pn,a9 as xa,F as Ke,y as Nt,aa as un,q as Ea,c as st,ab as dn,D as La,b as St,J as Rn,C as Ta,ac as Aa,I as Fa,ad as Ca,x as Mn,ae as Ia,af as mn,u as hn,ag as Sa,f as Da,w as pn}from"./vendor-253ca8e5.js";(function(){const n=document.createElement("link").relList;if(n&&n.supports&&n.supports("modulepreload"))return;for(const o of document.querySelectorAll('link[rel="modulepreload"]'))r(o);new MutationObserver(o=>{for(const s of o)if(s.type==="childList")for(const c of s.addedNodes)c.tagName==="LINK"&&c.rel==="modulepreload"&&r(c)}).observe(document,{childList:!0,subtree:!0});function a(o){const s={};return o.integrity&&(s.integrity=o.integrity),o.referrerPolicy&&(s.referrerPolicy=o.referrerPolicy),o.crossOrigin==="use-credentials"?s.credentials="include":o.crossOrigin==="anonymous"?s.credentials="omit":s.credentials="same-origin",s}function r(o){if(o.ep)return;o.ep=!0;const s=a(o);fetch(o.href,s)}})();const $a="modulepreload",Pa=function(t,n){return new URL(t,n).href},gn={},w=function(n,a,r){if(!a||a.length===0)return n();const o=document.getElementsByTagName("link");return Promise.all(a.map(s=>{if(s=Pa(s,r),s in gn)return;gn[s]=!0;const c=s.endsWith(".css"),g=c?'[rel="stylesheet"]':"";if(!!r)for(let d=o.length-1;d>=0;d--){const l=o[d];if(l.href===s&&(!c||l.rel==="stylesheet"))return}else if(document.querySelector(`link[href="${s}"]${g}`))return;const h=document.createElement("link");if(h.rel=c?"stylesheet":$a,c||(h.as="script",h.crossOrigin=""),h.href=s,document.head.appendChild(h),c)return new Promise((d,l)=>{h.addEventListener("load",d),h.addEventListener("error",()=>l(new Error(`Unable to preload CSS for ${s}`)))})})).then(()=>n()).catch(s=>{const c=new Event("vite:preloadError",{cancelable:!0});if(c.payload=s,window.dispatchEvent(c),!c.defaultPrevented)throw s})};function On(t){const n=F.local.getJSON("accounts")||[];return n.find(a=>a.info.id===t)||n[0]}function Ra(t){return(F.local.getJSON("accounts")||[]).find(a=>a.accessToken===t)}function _t(){const t=F.session.get("currentAccount");return On(t)}function gt(){const t=_t(),{instanceURL:n,info:{id:a}}=t;return`${a}@${n}`}function Ma(t){const n=F.local.getJSON("accounts")||[],a=n.find(r=>r.info.id===t.info.id);a?(a.info=t.info,a.instanceURL=t.instanceURL,a.accessToken=t.accessToken,a.vapidKey=t.vapidKey):n.push(t),F.local.setJSON("accounts",n),F.session.set("currentAccount",t.info.id)}function Uo(t){const n=F.local.getJSON("accounts")||[],a=n.find(r=>r.info.id===t.id);a&&(a.info.displayName!==t.displayName||a.info.avatar!==t.avatar||a.info.avatar_static!==t.avatar_static)&&(a.info={...a.info,...t},F.local.setJSON("accounts",n))}let Dt=null;function zn(){if(Dt)return Dt;try{const t=_t(),n=F.local.getJSON("instances"),a=t.instanceURL.toLowerCase();return Dt=n[a]}catch(t){return alert(`Failed to load instance configuration. Please try again.

${t}`),F.local.del("instances"),location.reload(),{}}}const De={get:t=>{try{return localStorage.getItem(t)}catch{return null}},getJSON:t=>{try{return JSON.parse(De.get(t))}catch{return null}},set:(t,n)=>{try{return localStorage.setItem(t,n)}catch{return null}},setJSON:(t,n)=>{try{return De.set(t,JSON.stringify(n))}catch{return null}},del:t=>{try{return localStorage.removeItem(t)}catch{return null}}},jt={get:t=>{try{return sessionStorage.getItem(t)}catch{return null}},getJSON:t=>{try{return JSON.parse(jt.get(t))}catch{return null}},set:(t,n)=>{try{return sessionStorage.setItem(t,n)}catch{return null}},setJSON:(t,n)=>{try{return jt.set(t,JSON.stringify(n))}catch{return null}},del:t=>{try{return sessionStorage.removeItem(t)}catch{return null}}},Oa={get:t=>{try{return De.getJSON(t)[gt()]}catch{return null}},set:(t,n)=>{try{const a=De.getJSON(t)||{};return a[gt()]=n,De.setJSON(t,a)}catch{return null}},del:t=>{try{const n=De.getJSON(t)||{};return delete n[gt()],De.setJSON(t,n)}catch{return null}}},F={local:De,session:jt,account:Oa},ft="stargate.pbcarrara.com.br",vt={},we={};window.__ACCOUNT_APIS__=we;let He;function Ve({instance:t,accessToken:n}){/^https?:\/\//.test(t)&&(t=t.replace(/^https?:\/\//,"").replace(/\/+$/,"").toLowerCase());const a=t?`https://${t}`:`https://${ft}`,r=ta({url:a,accessToken:n,disableVersionCheck:!0,timeout:3e4});return r.__instance__=t,vt[t]=r,we[t]||(we[t]={}),n&&(we[t][n]=r),r}async function Ho(t,n){const a=t;let r;try{r=await a.v2.instance.fetch()}catch{}if(!r)try{r=await a.v1.instances.fetch()}catch{}if(!r)return;const{uri:o,urls:{streamingApi:s}={},domain:c,configuration:{urls:{streaming:g}={}}={}}=r,u=F.local.getJSON("instances")||{};(o||c)&&(u[(c||o).replace(/^https?:\/\//,"").replace(/\/+$/,"").toLowerCase()]=r),n&&(u[n.toLowerCase()]=r),F.local.setJSON("instances",u),(s||g)&&(a.config.props.streamingApiUrl=g||s)}async function Ko(t,n,a,r){const s=await t.v1.accounts.verifyCredentials();F.session.set("currentAccount",s.id),Ma({info:s,instanceURL:n.toLowerCase(),accessToken:a,vapidKey:r})}async function qo(t){try{const a=await t.v1.preferences.fetch();F.account.set("preferences",a)}catch{}}function Pe({instance:t,accessToken:n,accountID:a,account:r}={}){var s,c,g;if(t&&(t=t.toLowerCase().trim()),t&&n)return{masto:((s=we[t])==null?void 0:s[n])||Ve({instance:t,accessToken:n}),authenticated:!0,instance:t};if(n)for(const u in we){if(we[u][n])return{masto:we[u][n],authenticated:!0,instance:u};{const h=Ra(n);if(h){const d=h.accessToken,l=h.instanceURL.toLowerCase().trim();return{masto:Ve({instance:l,accessToken:d}),authenticated:!0,instance:l}}else throw new Error(`Access token ${n} not found`)}}if(r||a)if(r=r||On(a),r){const u=r.accessToken,h=r.instanceURL.toLowerCase().trim();return{masto:((c=we[h])==null?void 0:c[u])||Ve({instance:h,accessToken:u}),authenticated:!0,instance:h}}else throw new Error(`Account ${a} not found`);if(t){const u=vt[t]||Ve({instance:t});return{masto:u,authenticated:!!u.config.props.accessToken,instance:t}}if(He)return{masto:He,authenticated:!0,instance:He.__instance__};const o=_t();if(o){const{accessToken:u,instanceURL:h}=o;return He=((g=we[h])==null?void 0:g[u])||Ve({instance:h,accessToken:u}),{masto:He,authenticated:!0,instance:h}}return{masto:vt[ft]||Ve({instance:ft}),authenticated:!1,instance:ft}}window.__API__={currentAccountApi:He,apis:vt,accountApis:we};const x=na({appVersion:{},prevLocation:null,currentLocation:null,statuses:{},statusThreadNumber:{},home:[],homeNew:[],homeLast:null,homeLastFetchTime:null,notifications:[],notificationsLast:F.account.get("notificationsLast")||null,notificationsNew:[],notificationsShowNew:!1,notificationsLastFetchTime:null,accounts:{},reloadStatusPage:0,spoilers:{},scrollPositions:{},unfurledLinks:{},statusQuotes:{},accounts:{},routeNotification:null,showCompose:!1,showSettings:!1,showAccount:!1,showAccounts:!1,showDrafts:!1,showMediaModal:!1,showShortcutsSettings:!1,shortcuts:F.account.get("shortcuts")??[],settings:{autoRefresh:F.account.get("settings-autoRefresh")??!1,shortcutsViewMode:F.account.get("settings-shortcutsViewMode")??null,shortcutsColumnsMode:F.account.get("settings-shortcutsColumnsMode")??!1,boostsCarousel:F.account.get("settings-boostsCarousel")??!0,contentTranslation:F.account.get("settings-contentTranslation")??!0,contentTranslationTargetLanguage:F.account.get("settings-contentTranslationTargetLanguage")||null,contentTranslationHideLanguages:F.account.get("settings-contentTranslationHideLanguages")||[],contentTranslationAutoInline:F.account.get("settings-contentTranslationAutoInline")??!1,cloakMode:F.account.get("settings-cloakMode")??!1}});function Wo(){x.notificationsLast=F.account.get("notificationsLast")||null,x.shortcuts=F.account.get("shortcuts")??[],x.settings.autoRefresh=F.account.get("settings-autoRefresh")??!1,x.settings.shortcutsViewMode=F.account.get("settings-shortcutsViewMode")??null,x.settings.shortcutsColumnsMode=F.account.get("settings-shortcutsColumnsMode")??!1,x.settings.boostsCarousel=F.account.get("settings-boostsCarousel")??!0,x.settings.contentTranslation=F.account.get("settings-contentTranslation")??!0,x.settings.contentTranslationTargetLanguage=F.account.get("settings-contentTranslationTargetLanguage")||null,x.settings.contentTranslationHideLanguages=F.account.get("settings-contentTranslationHideLanguages")||[],x.settings.contentTranslationAutoInline=F.account.get("settings-contentTranslationAutoInline")??!1,x.settings.cloakMode=F.account.get("settings-cloakMode")??!1}Sn(x,"notificationsLast",t=>{F.account.set("notificationsLast",x.notificationsLast)});aa(x,t=>{for(const[n,a,r,o]of t)a.join(".")==="settings.autoRefresh"&&F.account.set("settings-autoRefresh",!!r),a.join(".")==="settings.boostsCarousel"&&F.account.set("settings-boostsCarousel",!!r),a.join(".")==="settings.shortcutsColumnsMode"&&F.account.set("settings-shortcutsColumnsMode",!!r),a.join(".")==="settings.shortcutsViewMode"&&F.account.set("settings-shortcutsViewMode",r),a.join(".")==="settings.contentTranslation"&&F.account.set("settings-contentTranslation",!!r),a.join(".")==="settings.contentTranslationAutoInline"&&F.account.set("settings-contentTranslationAutoInline",!!r),a.join(".")==="settings.contentTranslationTargetLanguage"&&F.account.set("settings-contentTranslationTargetLanguage",r),/^settings\.contentTranslationHideLanguages/i.test(a.join("."))&&F.account.set("settings-contentTranslationHideLanguages",x.settings.contentTranslationHideLanguages),(a==null?void 0:a[0])==="shortcuts"&&F.account.set("shortcuts",x.shortcuts),a.join(".")==="settings.cloakMode"&&F.account.set("settings-cloakMode",!!r)});function Go(){x.showCompose=!1,x.showSettings=!1,x.showAccount=!1,x.showAccounts=!1,x.showDrafts=!1,x.showMediaModal=!1,x.showShortcutsSettings=!1}function Re(t,n){if(t)return n?`${n}/${t}`:t}function Bn(t,n){if(n){const a=Re(t,n);return x.statuses[a]}return x.statuses[t]}function be(t,n,a){typeof n=="object"&&(a=n,n=null);const{override:r,skipThreading:o}=Object.assign({override:!0,skipThreading:!1},a);if(!t)return;const s=Bn(t.id,n);if(!r&&s)return;const c=Re(t.id,n);if(s!=null&&s._pinned&&(t._pinned=s._pinned),s!=null&&s._filtered&&(t._filtered=s._filtered),x.statuses[c]=t,t.reblog){const g=Re(t.reblog.id,n);x.statuses[g]=t.reblog}o||requestAnimationFrame(()=>{fn(t,n),t.reblog&&fn(t.reblog,n)})}function fn(t,n){const{masto:a,instance:r}=Pe({instance:n});let o=0;async function s(c,g=0){const{inReplyToId:u,inReplyToAccountId:h}=c;if(!u||h!==c.account.id)return[c];if(u&&h!==c.account.id)throw"Not a thread";const d=Re(u,r);let l=x.statuses[d];if(!l){if(o++>3)throw"Too many fetches for thread";await new Promise(m=>setTimeout(m,500*o)),l=await za(u,a),be(l,r,{skipThreading:!0})}return[...await s(l,++g),c]}return s(t).then(c=>{c.length>1&&c.forEach((g,u)=>{const h=Re(g.id,r);x.statusThreadNumber[h]=u+1})}).catch(c=>{})}const za=rt((t,n)=>n.v1.statuses.fetch(t));function Nn(t,n=[]){return t?(!n.length||t.indexOf(":")===-1||n.forEach(a=>{const{shortcode:r,staticUrl:o,url:s}=a;t=t.replace(new RegExp(`:${r}:`,"g"),`<picture><source srcset="${o}" media="(prefers-reduced-motion: reduce)"></source><img class="shortcode-emoji emoji" src="${s}" alt=":${r}:" width="12" height="12" loading="lazy" decoding="async" /></picture>`)}),t):""}const Ue=document.createElement("div");function Vt(t,n={}){const{emojis:a,postEnhanceDOM:r=()=>{}}=n;let o=t;const s=document.createElement("div");s.innerHTML=o;const c=/<a/i.test(o),g=o.indexOf("```")!==-1;if(c&&Array.from(s.querySelectorAll('a:not([target="_blank"])')).forEach(d=>{d.setAttribute("target","_blank")}),c&&Array.from(s.querySelectorAll("a[href]")).forEach(d=>{/^https?:\/\//i.test(d.textContent.trim())&&d.classList.add("has-url-text")}),c){const h=Array.from(s.querySelectorAll("a[href]")),d=[];h.forEach(l=>{const m=l.innerText.trim(),b=l.querySelector("*");if(/^@[^@]+(@[^@]+)?$/g.test(m)){const[y,v,f]=m.split("@");b||(!d.find(([k])=>k===v)||d.find(([k,L])=>k===v&&L===f)?(l.innerHTML=`@<span>${v}</span>`,d.push([v,f])):l.innerHTML=`@<span>${v}@${f}</span>`),l.classList.add("mention")}/^#[^#]+$/g.test(m)&&(b||(l.innerHTML=`#<span>${m.slice(1)}</span>`),l.classList.add("mention","hashtag"))})}let u;if(o.indexOf(":")!==-1&&(u=$t(s),u.forEach(h=>{let d=h.nodeValue.replace(/&/g,"&amp;").replace(/</g,"&lt;").replace(/>/g,"&gt;");a&&(d=Nn(d,a)),Ue.innerHTML=d;const l=Array.from(Ue.childNodes);h.replaceWith(...l)})),g&&Array.from(s.querySelectorAll("p")).filter(d=>/^```[^]+```$/g.test(d.innerText.trim())).forEach(d=>{const l=document.createElement("pre");d.querySelectorAll("br").forEach(m=>m.replaceWith(`
`)),l.innerHTML=`<code>${d.innerHTML.trim()}</code>`,d.replaceWith(l)}),g&&Array.from(s.querySelectorAll("p")).filter(l=>/^```/g.test(l.innerText)).forEach(l=>{const m=[l];let b=!1,y=l;for(;y.nextElementSibling;){const v=y.nextElementSibling;if(v&&v.tagName==="P")if(/```$/g.test(v.innerText)){m.push(v),b=!0;break}else m.push(v);else break;y=v}if(b){const v=document.createElement("pre");m.forEach(k=>{k.querySelectorAll("br").forEach(L=>L.replaceWith(`
`))});const f=m.map(k=>k.innerHTML).join(`

`);v.innerHTML=`<code tabindex="0">${f}</code>`,l.replaceWith(v),m.forEach(k=>k.remove())}}),o.indexOf("`")!==-1&&(u=$t(s),u.forEach(h=>{let d=h.nodeValue.replace(/&/g,"&amp;").replace(/</g,"&lt;").replace(/>/g,"&gt;");/`[^`]+`/g.test(d)&&(d=d.replaceAll(/(`[^]+?`)/g,"<code>$1</code>")),Ue.innerHTML=d;const l=Array.from(Ue.childNodes);h.replaceWith(...l)})),/twitter\.com/i.test(o)&&(u=$t(s,{rejectFilter:["A"]}),u.forEach(h=>{let d=h.nodeValue.replace(/&/g,"&amp;").replace(/</g,"&lt;").replace(/>/g,"&gt;");/@[a-zA-Z0-9_]+@twitter\.com/g.test(d)&&(d=d.replaceAll(/(@([a-zA-Z0-9_]+)@twitter\.com)/g,'<a href="https://twitter.com/$2" rel="nofollow noopener noreferrer" target="_blank">$1</a>')),Ue.innerHTML=d;const l=Array.from(Ue.childNodes);h.replaceWith(...l)})),o.indexOf("#")!==-1){let h=null;const d=Array.from(s.querySelectorAll("p")).filter((l,m)=>{let b=0;for(let y=0;y<l.childNodes.length;y++){const v=l.childNodes[y];if(v.nodeType===Node.TEXT_NODE){if(v.textContent.trim()!=="")return!1}else if(v.tagName!=="BR")if(v.tagName==="A"){const f=v.textContent.trim();if(!f||!f.startsWith("#"))return!1;b++}else return!1}if(b>3||b>1&&h&&m===h+1)return h=m,!0});d!=null&&d.length&&d.forEach(l=>{l.classList.add("hashtag-stuffing"),l.title=l.innerText})}return r&&r(s),o=s.innerHTML,o}const Ba=["STYLE","IMG","VIDEO","AUDIO","AREA","MAP","TRACK","EMBED","IFRAME","OBJECT","PICTURE","PORTAL","SOURCE","SVG","MATH","CANVAS","NOSCRIPT","SCRIPT","INPUT","OPTION","TEXTAREA","SLOT","TEMPLATE"],Na=Object.fromEntries(Ba.map(t=>[t,!0]));function $t(t,n={}){const a=[],r=document.createTreeWalker(t,NodeFilter.SHOW_TEXT,{acceptNode(s){return Na[s.parentNode.nodeName]||n.rejectFilter&&n.rejectFilter.includes(s.parentNode.nodeName)?NodeFilter.FILTER_REJECT:NodeFilter.FILTER_ACCEPT}},!1);let o;for(;o=r.nextNode();)a.push(o);return a}const Pt=document.createElement("div");function jn(t){return t?(Pt.innerHTML=t.replace(/<\/p>/g,`</p>

`).replace(/<\/li>/g,`</li>
`),Pt.querySelectorAll("br").forEach(n=>{n.replaceWith(`
`)}),Pt.innerText.replace(/[\r\n]{3,}/g,`

`).trim()):""}function ja(t){const{mentions:n=[],instance:a,previewMode:r}=t||{};return o=>{var u,h;let{target:s}=o;if(s=s.closest("a"),!s)return;const c=(u=s.previousSibling)==null?void 0:u.textContent,g=c==null?void 0:c.endsWith("@");if(s.classList.contains("u-url")||g){const d=(s.querySelector("span")||s).innerText.trim(),l=d.replace(/^@/,""),m=s.getAttribute("href"),b=n.find(y=>y.username===l||y.acct===l||y.url===m);if(b)o.preventDefault(),o.stopPropagation(),x.showAccount={account:b.acct,instance:a};else if(!/^http/i.test(d)){o.preventDefault(),o.stopPropagation();const y=s.getAttribute("href");x.showAccount={account:y,instance:a}}}else if(!r){const d=c==null?void 0:c.endsWith("#");if(s.classList.contains("hashtag")||d){o.preventDefault(),o.stopPropagation();const l=s.innerText.replace(/^#/,"").trim(),m=a?`#/${a}/t/${l}`:`#/t/${l}`;location.hash=m}else(h=x.unfurledLinks[s.href])!=null&&h.url&&(o.preventDefault(),o.stopPropagation(),x.prevLocation={pathname:location.hash.replace(/^#/,"")},location.hash=`#${x.unfurledLinks[s.href].url}`)}}}const{locale:Va}=new Intl.DateTimeFormat().resolvedOptions();function bt(t,{hideTime:n,formatOpts:a}={}){t instanceof Date||(t=new Date(t));const r=new Date().getFullYear();return Intl.DateTimeFormat(Va,{year:t.getFullYear()===r?void 0:"numeric",month:"short",day:"numeric",hour:n?void 0:"numeric",minute:n?void 0:"numeric",...a}).format(t)}const{locale:Ua}=Intl.NumberFormat().resolvedOptions(),We=Intl.NumberFormat(Ua,{notation:"compact"}).format;function Ce(t){typeof t=="string"&&(t={text:t});const{onClick:n,delay:a,...r}=t,o=oa({className:`${n||t.destination?"shiny-pill":""}`,gravity:"bottom",position:"center",...r,onClick:()=>{n==null||n(o)}});a?setTimeout(()=>{o.showToast()},a):o.showToast()}const vn={s:16,m:20,l:24,xl:32,xxl:50,xxxl:64},Qe={},et=window.OffscreenCanvas?new OffscreenCanvas(1,1):document.createElement("canvas"),Rt=et.getContext("2d");function Be({url:t,size:n,alt:a="",squircle:r,...o}){n=vn[n]||n||vn.m;const s=Y(),c=/missing\.png$/.test(t);return e("span",{ref:s,class:`avatar ${r?"squircle":""} ${Qe[t]?"has-alpha":""}`,style:{width:n,height:n},title:a,...o,children:!!t&&e("img",{src:t,width:n,height:n,alt:a,loading:"lazy",decoding:"async",crossOrigin:Qe[t]===void 0&&!c?"anonymous":void 0,onError:g=>{g.target.crossOrigin&&(g.target.crossOrigin=null,g.target.src=t)},onLoad:g=>{if(s.current&&(s.current.dataset.loaded=!0),Qe[t]===void 0&&!c)try{const{width:u,height:h}=g.target;et.width!==u&&(et.width=u),et.height!==h&&(et.height=h),Rt.drawImage(g.target,0,0);const d=Rt.getImageData(0,0,u,h),l=d.data.filter((m,b)=>b%4===3&&m<=128).length/(d.data.length/4)>.1;l&&s.current.classList.add("has-alpha"),Qe[t]=l,Rt.clearRect(0,0,u,h)}catch{Qe[t]=!1}}})})}function ot({text:t,emojis:n}){if(!t)return"";if(!(n!=null&&n.length)||t.indexOf(":")===-1)return t;const a=new RegExp(`:(${n.map(o=>o.shortcode).join("|")}):`,"g");return t.split(a).map(o=>{const s=n.find(c=>c.shortcode===o);if(s){const{url:c,staticUrl:g}=s;return e("picture",{children:[e("source",{srcset:g,media:"(prefers-reduced-motion: reduce)"}),e("img",{src:c,alt:o,class:"shortcode-emoji emoji",width:"12",height:"12",loading:"lazy",decoding:"async"},o)]})}return o})}const Ha={s:12,m:16,l:20,xl:24,xxl:32},Ka={x:()=>w(()=>import("./icons/close-line-1e607fd7.js"),[],import.meta.url),heart:()=>w(()=>import("./icons/heart-line-58c847a5.js"),[],import.meta.url),bookmark:()=>w(()=>import("./icons/bookmark-line-6b313284.js"),[],import.meta.url),"check-circle":()=>w(()=>import("./icons/check-circle-line-482cc23b.js"),[],import.meta.url),"x-circle":()=>w(()=>import("./icons/close-circle-line-f70541d9.js"),[],import.meta.url),transfer:()=>w(()=>import("./icons/transfer-4-line-b7cbb98b.js"),[],import.meta.url),rocket:()=>w(()=>import("./icons/rocket-line-101de3ec.js"),[],import.meta.url),"arrow-left":()=>w(()=>import("./icons/arrow-left-line-0feb3aa8.js"),[],import.meta.url),"arrow-right":()=>w(()=>import("./icons/arrow-right-line-694dabc1.js"),[],import.meta.url),"arrow-up":()=>w(()=>import("./icons/arrow-up-line-95e379ea.js"),[],import.meta.url),"arrow-down":()=>w(()=>import("./icons/arrow-down-line-bb178ce2.js"),[],import.meta.url),earth:()=>w(()=>import("./icons/earth-line-5c4df1e5.js"),[],import.meta.url),lock:()=>w(()=>import("./icons/lock-line-d71022d2.js"),[],import.meta.url),unlock:()=>w(()=>import("./icons/unlock-line-cacd9f81.js"),[],import.meta.url),"eye-close":()=>w(()=>import("./icons/eye-close-line-da2db2a8.js"),[],import.meta.url),"eye-open":()=>w(()=>import("./icons/eye-2-line-64371d08.js"),[],import.meta.url),message:()=>w(()=>import("./icons/mail-line-655a57c1.js"),[],import.meta.url),comment:()=>w(()=>import("./icons/chat-3-line-51ad6e95.js"),[],import.meta.url),home:()=>w(()=>import("./icons/home-3-line-8018e019.js"),[],import.meta.url),notification:()=>w(()=>import("./icons/notification-line-6483301e.js"),[],import.meta.url),follow:()=>w(()=>import("./icons/user-follow-line-d4adf471.js"),[],import.meta.url),"follow-add":()=>w(()=>import("./icons/user-add-line-b53e9c05.js"),[],import.meta.url),poll:[()=>w(()=>import("./icons/chart-bar-line-ca6f21fb.js"),[],import.meta.url),"90deg"],pencil:()=>w(()=>import("./icons/pencil-line-7c3f3024.js"),[],import.meta.url),quill:()=>w(()=>import("./icons/quill-pen-line-992093b1.js"),[],import.meta.url),at:()=>w(()=>import("./icons/at-line-b5f1b18e.js"),[],import.meta.url),attachment:()=>w(()=>import("./icons/attachment-line-ebd7ec47.js"),[],import.meta.url),upload:()=>w(()=>import("./icons/upload-3-line-e7582c69.js"),[],import.meta.url),gear:()=>w(()=>import("./icons/settings-3-line-c7b6c1ed.js"),[],import.meta.url),more:()=>w(()=>import("./icons/more-3-line-9beec198.js"),[],import.meta.url),external:()=>w(()=>import("./icons/external-link-line-e805d30b.js"),[],import.meta.url),popout:()=>w(()=>import("./icons/external-link-line-e805d30b.js"),[],import.meta.url),popin:[()=>w(()=>import("./icons/external-link-line-e805d30b.js"),[],import.meta.url),"180deg"],plus:()=>w(()=>import("./icons/add-circle-line-0f9ede61.js"),[],import.meta.url),"chevron-left":()=>w(()=>import("./icons/left-line-8c6d4730.js"),[],import.meta.url),"chevron-right":()=>w(()=>import("./icons/right-line-a8ed19bd.js"),[],import.meta.url),reply:[()=>w(()=>import("./icons/share-forward-line-0e1cf661.js"),[],import.meta.url),"180deg","horizontal"],thread:()=>w(()=>import("./icons/route-line-edf25882.js"),[],import.meta.url),group:()=>w(()=>import("./icons/group-line-7fc1ae6f.js"),[],import.meta.url),bot:()=>w(()=>import("./icons/android-2-line-9258188e.js"),[],import.meta.url),menu:()=>w(()=>import("./icons/rows-4-line-b232add2.js"),[],import.meta.url),list:()=>w(()=>import("./icons/list-check-line-d954d344.js"),[],import.meta.url),search:()=>w(()=>import("./icons/search-2-line-91d20a16.js"),[],import.meta.url),hashtag:()=>w(()=>import("./icons/hashtag-line-173f0e0d.js"),[],import.meta.url),info:()=>w(()=>import("./icons/information-line-f740a4d0.js"),[],import.meta.url),shortcut:()=>w(()=>import("./icons/lightning-line-13c40c00.js"),[],import.meta.url),user:()=>w(()=>import("./icons/user-4-line-f6272bc4.js"),[],import.meta.url),following:()=>w(()=>import("./icons/walk-line-f9ac997b.js"),[],import.meta.url),pin:()=>w(()=>import("./icons/pin-line-1614dbce.js"),[],import.meta.url),bus:()=>w(()=>import("./icons/bus-2-line-287f972b.js"),[],import.meta.url),link:()=>w(()=>import("./icons/link-2-line-e03d0a4a.js"),[],import.meta.url),history:()=>w(()=>import("./icons/history-line-fe495dd5.js"),[],import.meta.url),share:()=>w(()=>import("./icons/share-2-line-24701383.js"),[],import.meta.url),sparkles:()=>w(()=>import("./icons/sparkles-line-c135b7ce.js"),[],import.meta.url),exit:()=>w(()=>import("./icons/exit-line-ec340eaf.js"),[],import.meta.url),translate:()=>w(()=>import("./icons/translate-line-2df19669.js"),[],import.meta.url),play:()=>w(()=>import("./icons/play-fill-36970130.js"),[],import.meta.url),trash:()=>w(()=>import("./icons/delete-2-line-682baf55.js"),[],import.meta.url),mute:()=>w(()=>import("./icons/volume-mute-line-9ab0102c.js"),[],import.meta.url),unmute:()=>w(()=>import("./icons/volume-line-9e549d94.js"),[],import.meta.url),block:()=>w(()=>import("./icons/forbid-circle-line-077295c5.js"),[],import.meta.url),unblock:[()=>w(()=>import("./icons/forbid-circle-line-077295c5.js"),[],import.meta.url),"180deg"],flag:()=>w(()=>import("./icons/flag-4-line-a416d7ea.js"),[],import.meta.url),time:()=>w(()=>import("./icons/time-line-78409f27.js"),[],import.meta.url),refresh:()=>w(()=>import("./icons/refresh-2-line-c573bc2e.js"),[],import.meta.url),emoji2:()=>w(()=>import("./icons/emoji-2-line-b853d04a.js"),[],import.meta.url),filter:()=>w(()=>import("./icons/filter-2-line-5c65a22f.js"),[],import.meta.url),chart:()=>w(()=>import("./icons/chart-line-line-e9099084.js"),[],import.meta.url),react:()=>w(()=>import("./icons/react-line-1e209827.js"),[],import.meta.url),layout4:()=>w(()=>import("./icons/layout-4-line-aff02a7f.js"),[],import.meta.url),layout5:()=>w(()=>import("./icons/layout-5-line-29b47e62.js"),[],import.meta.url),announce:()=>w(()=>import("./icons/announcement-line-71e251ef.js"),[],import.meta.url),alert:()=>w(()=>import("./icons/alert-line-d292623f.js"),[],import.meta.url),round:()=>w(()=>import("./icons/round-fill-d5665283.js"),[],import.meta.url),"arrow-up-circle":()=>w(()=>import("./icons/arrow-up-circle-line-92cd8597.js"),[],import.meta.url),"arrow-down-circle":()=>w(()=>import("./icons/arrow-down-circle-line-fb990a65.js"),[],import.meta.url),clipboard:()=>w(()=>import("./icons/clipboard-line-69c6b835.js"),[],import.meta.url)};function E({icon:t,size:n="m",alt:a,title:r,class:o="",style:s={}}){if(!t)return null;const c=Ha[n];let g=Ka[t],u,h;Array.isArray(g)&&([g,u,h]=g);const[d,l]=j(null);return re(async()=>{const m=await g();l(m.default)},[g]),e("div",{class:`icon ${o}`,title:r||a,style:{width:`${c}px`,height:`${c}px`,display:"inline-block",overflow:"hidden",lineHeight:0,...s},children:d&&e("svg",{width:c,height:c,viewBox:`0 0 ${d.width} ${d.height}`,dangerouslySetInnerHTML:{__html:d.body},style:{transform:`${u?`rotate(${u})`:""} ${h?"scaleX(-1)":""}`}})})}function Vn({skeleton:t,account:n,avatarSize:a="xl",instance:r,external:o,internal:s,onClick:c,showActivity:g=!1,showStats:u=!1,accountInstance:h,hideDisplayName:d=!1}){if(t)return e("div",{class:"account-block skeleton",children:[e(Be,{size:a}),e("span",{children:[e("b",{children:"████████"}),e("br",{}),e("span",{class:"account-block-acct",children:"@██████"})]})]});const{id:l,acct:m,avatar:b,avatarStatic:y,displayName:v,username:f,emojis:k,url:L,statusesCount:A,lastStatusAt:T,bot:$,fields:R,note:H,group:q}=n;let[Z,X,K]=m.match(/([^@]+)(@.+)/i)||[,m];h&&(K=`@${h}`);const W=R==null?void 0:R.find(J=>!!J.verifiedAt&&!!J.value);return e("a",{class:"account-block",href:L,target:o?"_blank":null,title:`@${m}`,onClick:J=>{if(!o){if(J.preventDefault(),c)return c(J);s?location.hash=`/${r}/a/${l}`:x.showAccount={account:n,instance:r}}},children:[e(Be,{url:b,size:a,squircle:$}),e("span",{children:[!d&&e(U,{children:[v?e("b",{children:e(ot,{text:v,emojis:k})}):e("b",{children:f}),e("br",{})]}),e("span",{class:"account-block-acct",children:["@",X,e("wbr",{}),K]}),g&&e(U,{children:[e("br",{}),e("small",{class:"last-status-at insignificant",children:["Posts: ",A,!!T&&e(U,{children:[" ","· Last posted:"," ",bt(T,{hideTime:!0})]})]})]}),u&&e("div",{class:"account-block-stats",children:[e("div",{class:"short-desc",dangerouslySetInnerHTML:{__html:Vt(H,{emojis:k})}}),$&&e(U,{children:e("span",{class:"tag",children:[e(E,{icon:"bot"})," Automated"]})}),!!q&&e(U,{children:e("span",{class:"tag",children:[e(E,{icon:"group"})," Group"]})}),!!W&&e("span",{class:"verified-field ib",children:[e(E,{icon:"check-circle",size:"s"})," ",e("span",{dangerouslySetInnerHTML:{__html:Vt(W.value,{emojis:k})}})]})]})]})]})}const ct=Dn((t,n)=>{let a;try{a=ia()}catch{}let r=(location.hash||"").replace(/^#/,"").trim();r===""&&(r="/");const{to:o,...s}=t,c=decodeURIComponent(r)===o;return e("a",{ref:n,href:`#${o}`,...s,class:`${t.class||""} ${c?"is-active":""}`,onClick:g=>{var u;a&&(x.prevLocation=a),(u=t.onClick)==null||u.call(t,g)}})}),qa={"@mastodon/edit-media-attributes":">=4.1","@mastodon/list-exclusive":">=4.2"},Mt={};function Un(t){try{const{version:n,domain:a}=zn(),r=`${a}-${t}`;if(Mt[r])return Mt[r];const o=qa[t];return o?Mt[r]=ra.satisfies(n,o,{includePrerelease:!0,loose:!0}):!1}catch{return!1}}function Ot({subMenu:t=!1,confirm:n=!0,confirmLabel:a,menuItemClassName:r,menuFooter:o,...s}){const{children:c,onClick:g,...u}=s;if(!n)return t?e(fe,{...s}):g?sa(c,{onClick:g}):c;const h=t?ca:Bt,d=Y();return e(h,{instanceRef:d,openTrigger:"clickOnly",direction:"bottom",overflow:"auto",gap:-8,shift:8,menuClassName:"menu-emphasized",...u,menuButton:t?void 0:c,label:t?c:void 0,itemProps:{onPointerMove:l=>{var m,b;l.pointerType==="touch"&&((b=(m=d.current)==null?void 0:m.openMenu)==null||b.call(m))},onPointerLeave:l=>{var m,b;l.pointerType==="touch"&&((b=(m=d.current)==null?void 0:m.openMenu)==null||b.call(m))}},children:[e(fe,{className:r,onClick:g,children:a}),o]})}function Ge({abrupt:t,hidden:n,...a}){return e("div",{...a,class:`loader-container ${t?"abrupt":""} ${n?"hidden":""}`,children:e("div",{class:"loader"})})}const Wa=document.getElementById("modal-container");function it({children:t,onClick:n,class:a}){if(!t)return null;const r=Y();re(()=>{let s=setTimeout(()=>{var g;const c=(g=r.current)==null?void 0:g.querySelector('[tabindex="-1"]');c&&c.focus()},100);return()=>clearTimeout(s)},[]);const o=e("div",{ref:r,className:a,onClick:n,children:t});return la(o,Wa)}const Ga=[{code:"auto",name:"Detect"},{code:"af",name:"Afrikaans"},{code:"sq",name:"Albanian"},{code:"am",name:"Amharic"},{code:"ar",name:"Arabic"},{code:"hy",name:"Armenian"},{code:"as",name:"Assamese"},{code:"ay",name:"Aymara"},{code:"az",name:"Azerbaijani"},{code:"bm",name:"Bambara"},{code:"eu",name:"Basque"},{code:"be",name:"Belarusian"},{code:"bn",name:"Bengali"},{code:"bho",name:"Bhojpuri"},{code:"bs",name:"Bosnian"},{code:"bg",name:"Bulgarian"},{code:"ca",name:"Catalan"},{code:"ceb",name:"Cebuano"},{code:"ny",name:"Chichewa"},{code:"zh",name:"Chinese"},{code:"co",name:"Corsican"},{code:"hr",name:"Croatian"},{code:"cs",name:"Czech"},{code:"da",name:"Danish"},{code:"dv",name:"Dhivehi"},{code:"doi",name:"Dogri"},{code:"nl",name:"Dutch"},{code:"en",name:"English"},{code:"eo",name:"Esperanto"},{code:"et",name:"Estonian"},{code:"ee",name:"Ewe"},{code:"tl",name:"Filipino"},{code:"fi",name:"Finnish"},{code:"fr",name:"French"},{code:"fy",name:"Frisian"},{code:"gl",name:"Galician"},{code:"ka",name:"Georgian"},{code:"de",name:"German"},{code:"el",name:"Greek"},{code:"gn",name:"Guarani"},{code:"gu",name:"Gujarati"},{code:"ht",name:"Haitian Creole"},{code:"ha",name:"Hausa"},{code:"haw",name:"Hawaiian"},{code:"iw",name:"Hebrew"},{code:"hi",name:"Hindi"},{code:"hmn",name:"Hmong"},{code:"hu",name:"Hungarian"},{code:"is",name:"Icelandic"},{code:"ig",name:"Igbo"},{code:"ilo",name:"Ilocano"},{code:"id",name:"Indonesian"},{code:"ga",name:"Irish"},{code:"it",name:"Italian"},{code:"ja",name:"Japanese"},{code:"jw",name:"Javanese"},{code:"kn",name:"Kannada"},{code:"kk",name:"Kazakh"},{code:"km",name:"Khmer"},{code:"rw",name:"Kinyarwanda"},{code:"gom",name:"Konkani"},{code:"ko",name:"Korean"},{code:"kri",name:"Krio"},{code:"ku",name:"Kurdish (Kurmanji)"},{code:"ckb",name:"Kurdish (Sorani)"},{code:"ky",name:"Kyrgyz"},{code:"lo",name:"Lao"},{code:"la",name:"Latin"},{code:"lv",name:"Latvian"},{code:"ln",name:"Lingala"},{code:"lt",name:"Lithuanian"},{code:"lg",name:"Luganda"},{code:"lb",name:"Luxembourgish"},{code:"mk",name:"Macedonian"},{code:"mai",name:"Maithili"},{code:"mg",name:"Malagasy"},{code:"ms",name:"Malay"},{code:"ml",name:"Malayalam"},{code:"mt",name:"Maltese"},{code:"mi",name:"Maori"},{code:"mr",name:"Marathi"},{code:"mni-Mtei",name:"Meiteilon (Manipuri)"},{code:"lus",name:"Mizo"},{code:"mn",name:"Mongolian"},{code:"my",name:"Myanmar (Burmese)"},{code:"ne",name:"Nepali"},{code:"no",name:"Norwegian"},{code:"or",name:"Odia (Oriya)"},{code:"om",name:"Oromo"},{code:"ps",name:"Pashto"},{code:"fa",name:"Persian"},{code:"pl",name:"Polish"},{code:"pt",name:"Portuguese"},{code:"pa",name:"Punjabi"},{code:"qu",name:"Quechua"},{code:"ro",name:"Romanian"},{code:"ru",name:"Russian"},{code:"sm",name:"Samoan"},{code:"sa",name:"Sanskrit"},{code:"gd",name:"Scots Gaelic"},{code:"nso",name:"Sepedi"},{code:"sr",name:"Serbian"},{code:"st",name:"Sesotho"},{code:"sn",name:"Shona"},{code:"sd",name:"Sindhi"},{code:"si",name:"Sinhala"},{code:"sk",name:"Slovak"},{code:"sl",name:"Slovenian"},{code:"so",name:"Somali"},{code:"es",name:"Spanish"},{code:"su",name:"Sundanese"},{code:"sw",name:"Swahili"},{code:"sv",name:"Swedish"},{code:"tg",name:"Tajik"},{code:"ta",name:"Tamil"},{code:"tt",name:"Tatar"},{code:"te",name:"Telugu"},{code:"th",name:"Thai"},{code:"ti",name:"Tigrinya"},{code:"ts",name:"Tsonga"},{code:"tr",name:"Turkish"},{code:"tk",name:"Turkmen"},{code:"ak",name:"Twi"},{code:"uk",name:"Ukrainian"},{code:"ur",name:"Urdu"},{code:"ug",name:"Uyghur"},{code:"uz",name:"Uzbek"},{code:"vi",name:"Vietnamese"},{code:"cy",name:"Welsh"},{code:"xh",name:"Xhosa"},{code:"yi",name:"Yiddish"},{code:"yo",name:"Yoruba"},{code:"zu",name:"Zulu"}],Ja=[{code:"af",name:"Afrikaans"},{code:"sq",name:"Albanian"},{code:"am",name:"Amharic"},{code:"ar",name:"Arabic"},{code:"hy",name:"Armenian"},{code:"as",name:"Assamese"},{code:"ay",name:"Aymara"},{code:"az",name:"Azerbaijani"},{code:"bm",name:"Bambara"},{code:"eu",name:"Basque"},{code:"be",name:"Belarusian"},{code:"bn",name:"Bengali"},{code:"bho",name:"Bhojpuri"},{code:"bs",name:"Bosnian"},{code:"bg",name:"Bulgarian"},{code:"ca",name:"Catalan"},{code:"ceb",name:"Cebuano"},{code:"ny",name:"Chichewa"},{code:"zh",name:"Chinese"},{code:"zh_HANT",name:"Chinese (Traditional)"},{code:"co",name:"Corsican"},{code:"hr",name:"Croatian"},{code:"cs",name:"Czech"},{code:"da",name:"Danish"},{code:"dv",name:"Dhivehi"},{code:"doi",name:"Dogri"},{code:"nl",name:"Dutch"},{code:"en",name:"English"},{code:"eo",name:"Esperanto"},{code:"et",name:"Estonian"},{code:"ee",name:"Ewe"},{code:"tl",name:"Filipino"},{code:"fi",name:"Finnish"},{code:"fr",name:"French"},{code:"fy",name:"Frisian"},{code:"gl",name:"Galician"},{code:"ka",name:"Georgian"},{code:"de",name:"German"},{code:"el",name:"Greek"},{code:"gn",name:"Guarani"},{code:"gu",name:"Gujarati"},{code:"ht",name:"Haitian Creole"},{code:"ha",name:"Hausa"},{code:"haw",name:"Hawaiian"},{code:"iw",name:"Hebrew"},{code:"hi",name:"Hindi"},{code:"hmn",name:"Hmong"},{code:"hu",name:"Hungarian"},{code:"is",name:"Icelandic"},{code:"ig",name:"Igbo"},{code:"ilo",name:"Ilocano"},{code:"id",name:"Indonesian"},{code:"ga",name:"Irish"},{code:"it",name:"Italian"},{code:"ja",name:"Japanese"},{code:"jw",name:"Javanese"},{code:"kn",name:"Kannada"},{code:"kk",name:"Kazakh"},{code:"km",name:"Khmer"},{code:"rw",name:"Kinyarwanda"},{code:"gom",name:"Konkani"},{code:"ko",name:"Korean"},{code:"kri",name:"Krio"},{code:"ku",name:"Kurdish (Kurmanji)"},{code:"ckb",name:"Kurdish (Sorani)"},{code:"ky",name:"Kyrgyz"},{code:"lo",name:"Lao"},{code:"la",name:"Latin"},{code:"lv",name:"Latvian"},{code:"ln",name:"Lingala"},{code:"lt",name:"Lithuanian"},{code:"lg",name:"Luganda"},{code:"lb",name:"Luxembourgish"},{code:"mk",name:"Macedonian"},{code:"mai",name:"Maithili"},{code:"mg",name:"Malagasy"},{code:"ms",name:"Malay"},{code:"ml",name:"Malayalam"},{code:"mt",name:"Maltese"},{code:"mi",name:"Maori"},{code:"mr",name:"Marathi"},{code:"mni-Mtei",name:"Meiteilon (Manipuri)"},{code:"lus",name:"Mizo"},{code:"mn",name:"Mongolian"},{code:"my",name:"Myanmar (Burmese)"},{code:"ne",name:"Nepali"},{code:"no",name:"Norwegian"},{code:"or",name:"Odia (Oriya)"},{code:"om",name:"Oromo"},{code:"ps",name:"Pashto"},{code:"fa",name:"Persian"},{code:"pl",name:"Polish"},{code:"pt",name:"Portuguese"},{code:"pa",name:"Punjabi"},{code:"qu",name:"Quechua"},{code:"ro",name:"Romanian"},{code:"ru",name:"Russian"},{code:"sm",name:"Samoan"},{code:"sa",name:"Sanskrit"},{code:"gd",name:"Scots Gaelic"},{code:"nso",name:"Sepedi"},{code:"sr",name:"Serbian"},{code:"st",name:"Sesotho"},{code:"sn",name:"Shona"},{code:"sd",name:"Sindhi"},{code:"si",name:"Sinhala"},{code:"sk",name:"Slovak"},{code:"sl",name:"Slovenian"},{code:"so",name:"Somali"},{code:"es",name:"Spanish"},{code:"su",name:"Sundanese"},{code:"sw",name:"Swahili"},{code:"sv",name:"Swedish"},{code:"tg",name:"Tajik"},{code:"ta",name:"Tamil"},{code:"tt",name:"Tatar"},{code:"te",name:"Telugu"},{code:"th",name:"Thai"},{code:"ti",name:"Tigrinya"},{code:"ts",name:"Tsonga"},{code:"tr",name:"Turkish"},{code:"tk",name:"Turkmen"},{code:"ak",name:"Twi"},{code:"uk",name:"Ukrainian"},{code:"ur",name:"Urdu"},{code:"ug",name:"Uyghur"},{code:"uz",name:"Uzbek"},{code:"vi",name:"Vietnamese"},{code:"cy",name:"Welsh"},{code:"xh",name:"Xhosa"},{code:"yi",name:"Yiddish"},{code:"yo",name:"Yoruba"},{code:"zu",name:"Zulu"}];function Ya(...t){try{return ua(...t)}catch{return t[2]||!1}}const yt=rt(Ya,{cacheKey:t=>t.join()});function Hn(t=!1){if(t){const{contentTranslationTargetLanguage:n}=x.settings;if(n)return n}return yt([new Intl.DateTimeFormat().resolvedOptions().locale,...navigator.languages],Ja.map(n=>n.code.replace("_","-")),"en")}function zt(t){try{return new Intl.DisplayNames(navigator.languages,{type:"language"}).of(t)}catch{return null}}const Za=$n({limit:1,interval:2e3});function Kn(t,n,a){return fetch(`https://lingva.garudalinux.org/api/v1/${n}/${a}/${encodeURIComponent(t)}`).then(r=>r.json()).then(r=>{var o;return{provider:"lingva",content:r.translation,detectedSourceLanguage:(o=r.info)==null?void 0:o.detectedSource,info:r.info}})}const Xa=Za(Kn);function Qa({forceTranslate:t,sourceLanguage:n,onTranslate:a,text:r="",mini:o}){const s=Hn(!0),[c,g]=j("default"),[u,h]=j(null),[d,l]=j(null),[m,b]=j(null),y=Y(),v=n?zt(n):null,f=zt(s),k=Y("auto");a||(a=o?Xa:Kn);const L=async()=>{var A,T;g("loading");try{const{content:$,detectedSourceLanguage:R,provider:H,...q}=await a(r,k.current,s);if($){if(R){const Z=zt(R);b(Z)}if(H==="lingva"){const Z=(T=(A=q==null?void 0:q.info)==null?void 0:A.pronunciation)==null?void 0:T.query;Z&&h(Z)}l($),g("default"),!o&&$.trim()!==r.trim()&&(y.current.open=!0,y.current.scrollIntoView({behavior:"smooth",block:"nearest"}))}else g("error")}catch{g("error")}};return re(()=>{t&&L()},[t]),o?d&&d.trim()!==r.trim()&&m!==f?e("div",{class:"shazam-container",children:e("div",{class:"shazam-container-inner",children:e("div",{class:"status-translation-block-mini",children:[e(E,{icon:"translate",alt:`Auto-translated from ${v}`}),e("output",{lang:s,dir:"auto",title:u||"",children:d})]})})}):null:e("div",{class:"status-translation-block",onClick:A=>{A.preventDefault()},children:e("details",{ref:y,children:[e("summary",{children:e("button",{type:"button",onClick:async A=>{A.preventDefault(),A.stopPropagation(),y.current.open=!y.current.open,c!=="loading"&&(d||L())},children:[e(E,{icon:"translate"})," ",e("span",{children:c==="loading"?"Translating…":n&&v&&!m?`Translate from ${v}`:"Translate"})]})}),e("div",{class:"translated-block",children:[e("div",{class:"translation-info insignificant",children:[e("select",{class:"translated-source-select",disabled:c==="loading",onChange:A=>{k.current=A.target.value,L()},children:Ga.map(A=>e("option",{value:A.code,children:A.code==="auto"?`Auto (${m??"…"})`:A.name}))})," ",e("span",{children:["→ ",f]}),e(Ge,{abrupt:!0,hidden:c!=="loading"})]}),c==="error"?e("p",{class:"ui-state",children:"Failed to translate"}):!!d&&e(U,{children:[e("output",{class:"translated-content",lang:s,dir:"auto",children:d}),!!u&&e("output",{class:"translated-pronunciation-content",tabIndex:-1,onClick:A=>{A.target.classList.toggle("expand")},children:u})]})]})]})})}function eo(t,n,a,r){const o=Y(t);re(()=>{o.current=t},[t,a]),re(()=>{!r||n===null||n===!1||o.current()},[r]),re(()=>{if(n===null||n===!1)return;const c=setInterval(()=>o.current(),n);return()=>clearInterval(c)},[n])}const Ut=[["aa","Afar","Afaraf"],["ab","Abkhaz","аҧсуа бызшәа"],["ae","Avestan","avesta"],["af","Afrikaans","Afrikaans"],["ak","Akan","Akan"],["am","Amharic","አማርኛ"],["an","Aragonese","aragonés"],["ar","Arabic","اللغة العربية"],["as","Assamese","অসমীয়া"],["av","Avaric","авар мацӀ"],["ay","Aymara","aymar aru"],["az","Azerbaijani","azərbaycan dili"],["ba","Bashkir","башҡорт теле"],["be","Belarusian","беларуская мова"],["bg","Bulgarian","български език"],["bh","Bihari","भोजपुरी"],["bi","Bislama","Bislama"],["bm","Bambara","bamanankan"],["bn","Bengali","বাংলা"],["bo","Tibetan","བོད་ཡིག"],["br","Breton","brezhoneg"],["bs","Bosnian","bosanski jezik"],["ca","Catalan","Català"],["ce","Chechen","нохчийн мотт"],["ch","Chamorro","Chamoru"],["co","Corsican","corsu"],["cr","Cree","ᓀᐦᐃᔭᐍᐏᐣ"],["cs","Czech","čeština"],["cu","Old Church Slavonic","ѩзыкъ словѣньскъ"],["cv","Chuvash","чӑваш чӗлхи"],["cy","Welsh","Cymraeg"],["da","Danish","dansk"],["de","German","Deutsch"],["dv","Divehi","Dhivehi"],["dz","Dzongkha","རྫོང་ཁ"],["ee","Ewe","Eʋegbe"],["el","Greek","Ελληνικά"],["en","English","English"],["eo","Esperanto","Esperanto"],["es","Spanish","Español"],["et","Estonian","eesti"],["eu","Basque","euskara"],["fa","Persian","فارسی"],["ff","Fula","Fulfulde"],["fi","Finnish","suomi"],["fj","Fijian","Vakaviti"],["fo","Faroese","føroyskt"],["fr","French","Français"],["fy","Western Frisian","Frysk"],["ga","Irish","Gaeilge"],["gd","Scottish Gaelic","Gàidhlig"],["gl","Galician","galego"],["gu","Gujarati","ગુજરાતી"],["gv","Manx","Gaelg"],["ha","Hausa","هَوُسَ"],["he","Hebrew","עברית"],["hi","Hindi","हिन्दी"],["ho","Hiri Motu","Hiri Motu"],["hr","Croatian","Hrvatski"],["ht","Haitian","Kreyòl ayisyen"],["hu","Hungarian","magyar"],["hy","Armenian","Հայերեն"],["hz","Herero","Otjiherero"],["ia","Interlingua","Interlingua"],["id","Indonesian","Bahasa Indonesia"],["ie","Interlingue","Interlingue"],["ig","Igbo","Asụsụ Igbo"],["ii","Nuosu","ꆈꌠ꒿ Nuosuhxop"],["ik","Inupiaq","Iñupiaq"],["io","Ido","Ido"],["is","Icelandic","Íslenska"],["it","Italian","Italiano"],["iu","Inuktitut","ᐃᓄᒃᑎᑐᑦ"],["ja","Japanese","日本語"],["jv","Javanese","basa Jawa"],["ka","Georgian","ქართული"],["kg","Kongo","Kikongo"],["ki","Kikuyu","Gĩkũyũ"],["kj","Kwanyama","Kuanyama"],["kk","Kazakh","қазақ тілі"],["kl","Kalaallisut","kalaallisut"],["km","Khmer","ខេមរភាសា"],["kn","Kannada","ಕನ್ನಡ"],["ko","Korean","한국어"],["kr","Kanuri","Kanuri"],["ks","Kashmiri","कश्मीरी"],["ku","Kurmanji (Kurdish)","Kurmancî"],["kv","Komi","коми кыв"],["kw","Cornish","Kernewek"],["ky","Kyrgyz","Кыргызча"],["la","Latin","latine"],["lb","Luxembourgish","Lëtzebuergesch"],["lg","Ganda","Luganda"],["li","Limburgish","Limburgs"],["ln","Lingala","Lingála"],["lo","Lao","ລາວ"],["lt","Lithuanian","lietuvių kalba"],["lu","Luba-Katanga","Tshiluba"],["lv","Latvian","latviešu valoda"],["mg","Malagasy","fiteny malagasy"],["mh","Marshallese","Kajin M̧ajeļ"],["mi","Māori","te reo Māori"],["mk","Macedonian","македонски јазик"],["ml","Malayalam","മലയാളം"],["mn","Mongolian","Монгол хэл"],["mr","Marathi","मराठी"],["ms","Malay","Bahasa Melayu"],["mt","Maltese","Malti"],["my","Burmese","ဗမာစာ"],["na","Nauru","Ekakairũ Naoero"],["nb","Norwegian Bokmål","Norsk bokmål"],["nd","Northern Ndebele","isiNdebele"],["ne","Nepali","नेपाली"],["ng","Ndonga","Owambo"],["nl","Dutch","Nederlands"],["nn","Norwegian Nynorsk","Norsk Nynorsk"],["no","Norwegian","Norsk"],["nr","Southern Ndebele","isiNdebele"],["nv","Navajo","Diné bizaad"],["ny","Chichewa","chiCheŵa"],["oc","Occitan","occitan"],["oj","Ojibwe","ᐊᓂᔑᓈᐯᒧᐎᓐ"],["om","Oromo","Afaan Oromoo"],["or","Oriya","ଓଡ଼ିଆ"],["os","Ossetian","ирон æвзаг"],["pa","Panjabi","ਪੰਜਾਬੀ"],["pi","Pāli","पाऴि"],["pl","Polish","Polski"],["ps","Pashto","پښتو"],["pt","Portuguese","Português"],["qu","Quechua","Runa Simi"],["rm","Romansh","rumantsch grischun"],["rn","Kirundi","Ikirundi"],["ro","Romanian","Română"],["ru","Russian","Русский"],["rw","Kinyarwanda","Ikinyarwanda"],["sa","Sanskrit","संस्कृतम्"],["sc","Sardinian","sardu"],["sd","Sindhi","सिन्धी"],["se","Northern Sami","Davvisámegiella"],["sg","Sango","yângâ tî sängö"],["si","Sinhala","සිංහල"],["sk","Slovak","slovenčina"],["sl","Slovenian","slovenščina"],["sn","Shona","chiShona"],["so","Somali","Soomaaliga"],["sq","Albanian","Shqip"],["sr","Serbian","српски језик"],["ss","Swati","SiSwati"],["st","Southern Sotho","Sesotho"],["su","Sundanese","Basa Sunda"],["sv","Swedish","Svenska"],["sw","Swahili","Kiswahili"],["ta","Tamil","தமிழ்"],["te","Telugu","తెలుగు"],["tg","Tajik","тоҷикӣ"],["th","Thai","ไทย"],["ti","Tigrinya","ትግርኛ"],["tk","Turkmen","Türkmen"],["tl","Tagalog","Wikang Tagalog"],["tn","Tswana","Setswana"],["to","Tonga","faka Tonga"],["tr","Turkish","Türkçe"],["ts","Tsonga","Xitsonga"],["tt","Tatar","татар теле"],["tw","Twi","Twi"],["ty","Tahitian","Reo Tahiti"],["ug","Uyghur","ئۇيغۇرچە‎"],["uk","Ukrainian","Українська"],["ur","Urdu","اردو"],["uz","Uzbek","Ўзбек"],["ve","Venda","Tshivenḓa"],["vi","Vietnamese","Tiếng Việt"],["vo","Volapük","Volapük"],["wa","Walloon","walon"],["wo","Wolof","Wollof"],["xh","Xhosa","isiXhosa"],["yi","Yiddish","ייִדיש"],["yo","Yoruba","Yorùbá"],["za","Zhuang","Saɯ cueŋƅ"],["zh","Chinese","中文"],["zu","Zulu","isiZulu"],["zh-CN","Chinese (China)","简体中文"],["zh-HK","Chinese (Hong Kong)","繁體中文（香港）"],["zh-TW","Chinese (Taiwan)","繁體中文（臺灣）"],["zh-YUE","Cantonese","廣東話"],["ast","Asturian","Asturianu"],["ckb","Sorani (Kurdish)","سۆرانی"],["cnr","Montenegrin","crnogorski"],["jbo","Lojban","la .lojban."],["kab","Kabyle","Taqbaylit"],["kmr","Kurmanji (Kurdish)","Kurmancî"],["ldn","Láadan","Láadan"],["lfn","Lingua Franca Nova","lingua franca nova"],["sco","Scots","Scots"],["sma","Southern Sami","Åarjelsaemien Gïele"],["smj","Lule Sami","Julevsámegiella"],["szl","Silesian","ślůnsko godka"],["tok","Toki Pona","toki pona"],["zba","Balaibalan","باليبلن"],["zgh","Standard Moroccan Tamazight","ⵜⴰⵎⴰⵣⵉⵖⵜ"]],to="(((?:[^A-Za-z0-9@＠$#＃\\uFFFE\\uFEFF\\uFFFF]|[\\u202A-\\u202E\\u061C\\u200E\\u200F\\u2066\\u2067\\u2068\\u2069]|^))((https?:\\/\\/)((?:(?:(?:[^/\\!'#%&'\\(\\)*\\+,\\\\\\-\\.\\/:;<=>\\?@\\[\\]\\^_{|}~\\$//\\x09-\\x0D\\x20\\x85\\xA0\\u1680\\u180E\\u2000-\\u200A\\u2028\\u2029\\u202F\\u205F\\u3000//\\uFFFE\\uFEFF\\uFFFF//\\u202A-\\u202E\\u061C\\u200E\\u200F\\u2066\\u2067\\u2068\\u2069/](?:[_-]|[^/\\!'#%&'\\(\\)*\\+,\\\\\\-\\.\\/:;<=>\\?@\\[\\]\\^_{|}~\\$//\\x09-\\x0D\\x20\\x85\\xA0\\u1680\\u180E\\u2000-\\u200A\\u2028\\u2029\\u202F\\u205F\\u3000//\\uFFFE\\uFEFF\\uFFFF//\\u202A-\\u202E\\u061C\\u200E\\u200F\\u2066\\u2067\\u2068\\u2069/])*)?[^/\\!'#%&'\\(\\)*\\+,\\\\\\-\\.\\/:;<=>\\?@\\[\\]\\^_{|}~\\$//\\x09-\\x0D\\x20\\x85\\xA0\\u1680\\u180E\\u2000-\\u200A\\u2028\\u2029\\u202F\\u205F\\u3000//\\uFFFE\\uFEFF\\uFFFF//\\u202A-\\u202E\\u061C\\u200E\\u200F\\u2066\\u2067\\u2068\\u2069/]\\.)*(?:(?:[^/\\!'#%&'\\(\\)*\\+,\\\\\\-\\.\\/:;<=>\\?@\\[\\]\\^_{|}~\\$//\\x09-\\x0D\\x20\\x85\\xA0\\u1680\\u180E\\u2000-\\u200A\\u2028\\u2029\\u202F\\u205F\\u3000//\\uFFFE\\uFEFF\\uFFFF//\\u202A-\\u202E\\u061C\\u200E\\u200F\\u2066\\u2067\\u2068\\u2069/](?:-|[^/\\!'#%&'\\(\\)*\\+,\\\\\\-\\.\\/:;<=>\\?@\\[\\]\\^_{|}~\\$//\\x09-\\x0D\\x20\\x85\\xA0\\u1680\\u180E\\u2000-\\u200A\\u2028\\u2029\\u202F\\u205F\\u3000//\\uFFFE\\uFEFF\\uFFFF//\\u202A-\\u202E\\u061C\\u200E\\u200F\\u2066\\u2067\\u2068\\u2069/])*)?[^/\\!'#%&'\\(\\)*\\+,\\\\\\-\\.\\/:;<=>\\?@\\[\\]\\^_{|}~\\$//\\x09-\\x0D\\x20\\x85\\xA0\\u1680\\u180E\\u2000-\\u200A\\u2028\\u2029\\u202F\\u205F\\u3000//\\uFFFE\\uFEFF\\uFFFF//\\u202A-\\u202E\\u061C\\u200E\\u200F\\u2066\\u2067\\u2068\\u2069/]\\.)(?:(?:(?:삼성|닷컴|닷넷|香格里拉|餐厅|食品|飞利浦|電訊盈科|集团|通販|购物|谷歌|诺基亚|联通|网络|网站|网店|网址|组织机构|移动|珠宝|点看|游戏|淡马锡|机构|書籍|时尚|新闻|政府|政务|招聘|手表|手机|我爱你|慈善|微博|广东|工行|家電|娱乐|天主教|大拿|大众汽车|在线|嘉里大酒店|嘉里|商标|商店|商城|公益|公司|八卦|健康|信息|佛山|企业|中文网|中信|世界|ポイント|ファッション|セール|ストア|コム|グーグル|クラウド|みんな|คอม|संगठन|नेट|कॉम|همراه|موقع|موبايلي|كوم|كاثوليك|عرب|شبكة|بيتك|بازار|العليان|ارامكو|اتصالات|ابوظبي|קום|сайт|рус|орг|онлайн|москва|ком|католик|дети|zuerich|zone|zippo|zip|zero|zara|zappos|yun|youtube|you|yokohama|yoga|yodobashi|yandex|yamaxun|yahoo|yachts|xyz|xxx|xperia|xin|xihuan|xfinity|xerox|xbox|wtf|wtc|wow|world|works|work|woodside|wolterskluwer|wme|winners|wine|windows|win|williamhill|wiki|wien|whoswho|weir|weibo|wedding|wed|website|weber|webcam|weatherchannel|weather|watches|watch|warman|wanggou|wang|walter|walmart|wales|vuelos|voyage|voto|voting|vote|volvo|volkswagen|vodka|vlaanderen|vivo|viva|vistaprint|vista|vision|visa|virgin|vip|vin|villas|viking|vig|video|viajes|vet|versicherung|vermögensberatung|vermögensberater|verisign|ventures|vegas|vanguard|vana|vacations|ups|uol|uno|university|unicom|uconnect|ubs|ubank|tvs|tushu|tunes|tui|tube|trv|trust|travelersinsurance|travelers|travelchannel|travel|training|trading|trade|toys|toyota|town|tours|total|toshiba|toray|top|tools|tokyo|today|tmall|tkmaxx|tjx|tjmaxx|tirol|tires|tips|tiffany|tienda|tickets|tiaa|theatre|theater|thd|teva|tennis|temasek|telefonica|telecity|tel|technology|tech|team|tdk|tci|taxi|tax|tattoo|tatar|tatamotors|target|taobao|talk|taipei|tab|systems|symantec|sydney|swiss|swiftcover|swatch|suzuki|surgery|surf|support|supply|supplies|sucks|style|study|studio|stream|store|storage|stockholm|stcgroup|stc|statoil|statefarm|statebank|starhub|star|staples|stada|srt|srl|spreadbetting|spot|sport|spiegel|space|soy|sony|song|solutions|solar|sohu|software|softbank|social|soccer|sncf|smile|smart|sling|skype|sky|skin|ski|site|singles|sina|silk|shriram|showtime|show|shouji|shopping|shop|shoes|shiksha|shia|shell|shaw|sharp|shangrila|sfr|sexy|sex|sew|seven|ses|services|sener|select|seek|security|secure|seat|search|scot|scor|scjohnson|science|schwarz|schule|school|scholarships|schmidt|schaeffler|scb|sca|sbs|sbi|saxo|save|sas|sarl|sapo|sap|sanofi|sandvikcoromant|sandvik|samsung|samsclub|salon|sale|sakura|safety|safe|saarland|ryukyu|rwe|run|ruhr|rugby|rsvp|room|rogers|rodeo|rocks|rocher|rmit|rip|rio|ril|rightathome|ricoh|richardli|rich|rexroth|reviews|review|restaurant|rest|republican|report|repair|rentals|rent|ren|reliance|reit|reisen|reise|rehab|redumbrella|redstone|red|recipes|realty|realtor|realestate|read|raid|radio|racing|qvc|quest|quebec|qpon|pwc|pub|prudential|pru|protection|property|properties|promo|progressive|prof|productions|prod|pro|prime|press|praxi|pramerica|post|porn|politie|poker|pohl|pnc|plus|plumbing|playstation|play|place|pizza|pioneer|pink|ping|pin|pid|pictures|pictet|pics|piaget|physio|photos|photography|photo|phone|philips|phd|pharmacy|pfizer|pet|pccw|pay|passagens|party|parts|partners|pars|paris|panerai|panasonic|pamperedchef|page|ovh|ott|otsuka|osaka|origins|orientexpress|organic|org|orange|oracle|open|ooo|onyourside|online|onl|ong|one|omega|ollo|oldnavy|olayangroup|olayan|okinawa|office|off|observer|obi|nyc|ntt|nrw|nra|nowtv|nowruz|now|norton|northwesternmutual|nokia|nissay|nissan|ninja|nikon|nike|nico|nhk|ngo|nfl|nexus|nextdirect|next|news|newholland|new|neustar|network|netflix|netbank|net|nec|nba|navy|natura|nationwide|name|nagoya|nadex|nab|mutuelle|mutual|museum|mtr|mtpc|mtn|msd|movistar|movie|mov|motorcycles|moto|moscow|mortgage|mormon|mopar|montblanc|monster|money|monash|mom|moi|moe|moda|mobily|mobile|mobi|mma|mls|mlb|mitsubishi|mit|mint|mini|mil|microsoft|miami|metlife|merckmsd|meo|menu|men|memorial|meme|melbourne|meet|media|med|mckinsey|mcdonalds|mcd|mba|mattel|maserati|marshalls|marriott|markets|marketing|market|map|mango|management|man|makeup|maison|maif|madrid|macys|luxury|luxe|lupin|lundbeck|ltda|ltd|lplfinancial|lpl|love|lotto|lotte|london|lol|loft|locus|locker|loans|loan|llp|llc|lixil|living|live|lipsy|link|linde|lincoln|limo|limited|lilly|like|lighting|lifestyle|lifeinsurance|life|lidl|liaison|lgbt|lexus|lego|legal|lefrak|leclerc|lease|lds|lawyer|law|latrobe|latino|lat|lasalle|lanxess|landrover|land|lancome|lancia|lancaster|lamer|lamborghini|ladbrokes|lacaixa|kyoto|kuokgroup|kred|krd|kpn|kpmg|kosher|komatsu|koeln|kiwi|kitchen|kindle|kinder|kim|kia|kfh|kerryproperties|kerrylogistics|kerryhotels|kddi|kaufen|juniper|juegos|jprs|jpmorgan|joy|jot|joburg|jobs|jnj|jmp|jll|jlc|jio|jewelry|jetzt|jeep|jcp|jcb|java|jaguar|iwc|iveco|itv|itau|istanbul|ist|ismaili|iselect|irish|ipiranga|investments|intuit|international|intel|int|insure|insurance|institute|ink|ing|info|infiniti|industries|inc|immobilien|immo|imdb|imamat|ikano|iinet|ifm|ieee|icu|ice|icbc|ibm|hyundai|hyatt|hughes|htc|hsbc|how|house|hotmail|hotels|hoteles|hot|hosting|host|hospital|horse|honeywell|honda|homesense|homes|homegoods|homedepot|holiday|holdings|hockey|hkt|hiv|hitachi|hisamitsu|hiphop|hgtv|hermes|here|helsinki|help|healthcare|health|hdfcbank|hdfc|hbo|haus|hangout|hamburg|hair|guru|guitars|guide|guge|gucci|guardian|group|grocery|gripe|green|gratis|graphics|grainger|gov|got|gop|google|goog|goodyear|goodhands|goo|golf|goldpoint|gold|godaddy|gmx|gmo|gmbh|gmail|globo|global|gle|glass|glade|giving|gives|gifts|gift|ggee|george|genting|gent|gea|gdn|gbiz|gay|garden|gap|games|game|gallup|gallo|gallery|gal|fyi|futbol|furniture|fund|fun|fujixerox|fujitsu|ftr|frontier|frontdoor|frogans|frl|fresenius|free|fox|foundation|forum|forsale|forex|ford|football|foodnetwork|food|foo|fly|flsmidth|flowers|florist|flir|flights|flickr|fitness|fit|fishing|fish|firmdale|firestone|fire|financial|finance|final|film|fido|fidelity|fiat|ferrero|ferrari|feedback|fedex|fast|fashion|farmers|farm|fans|fan|family|faith|fairwinds|fail|fage|extraspace|express|exposed|expert|exchange|everbank|events|eus|eurovision|etisalat|esurance|estate|esq|erni|ericsson|equipment|epson|epost|enterprises|engineering|engineer|energy|emerck|email|education|edu|edeka|eco|eat|earth|dvr|dvag|durban|dupont|duns|dunlop|duck|dubai|dtv|drive|download|dot|doosan|domains|doha|dog|dodge|doctor|docs|dnp|diy|dish|discover|discount|directory|direct|digital|diet|diamonds|dhl|dev|design|desi|dentist|dental|democrat|delta|deloitte|dell|delivery|degree|deals|dealer|deal|dds|dclk|day|datsun|dating|date|data|dance|dad|dabur|cyou|cymru|cuisinella|csc|cruises|cruise|crs|crown|cricket|creditunion|creditcard|credit|cpa|courses|coupons|coupon|country|corsica|coop|cool|cookingchannel|cooking|contractors|contact|consulting|construction|condos|comsec|computer|compare|company|community|commbank|comcast|com|cologne|college|coffee|codes|coach|clubmed|club|cloud|clothing|clinique|clinic|click|cleaning|claims|cityeats|city|citic|citi|citadel|cisco|circle|cipriani|church|chrysler|chrome|christmas|chloe|chintai|cheap|chat|chase|charity|channel|chanel|cfd|cfa|cern|ceo|center|ceb|cbs|cbre|cbn|cba|catholic|catering|cat|casino|cash|caseih|case|casa|cartier|cars|careers|career|care|cards|caravan|car|capitalone|capital|capetown|canon|cancerresearch|camp|camera|cam|calvinklein|call|cal|cafe|cab|bzh|buzz|buy|business|builders|build|bugatti|budapest|brussels|brother|broker|broadway|bridgestone|bradesco|box|boutique|bot|boston|bostik|bosch|boots|booking|book|boo|bond|bom|bofa|boehringer|boats|bnpparibas|bnl|bmw|bms|blue|bloomberg|blog|blockbuster|blanco|blackfriday|black|biz|bio|bingo|bing|bike|bid|bible|bharti|bet|bestbuy|best|berlin|bentley|beer|beauty|beats|bcn|bcg|bbva|bbt|bbc|bayern|bauhaus|basketball|baseball|bargains|barefoot|barclays|barclaycard|barcelona|bar|bank|band|bananarepublic|banamex|baidu|baby|azure|axa|aws|avianca|autos|auto|author|auspost|audio|audible|audi|auction|attorney|athleta|associates|asia|asda|arte|art|arpa|army|archi|aramco|arab|aquarelle|apple|app|apartments|aol|anz|anquan|android|analytics|amsterdam|amica|amfam|amex|americanfamily|americanexpress|alstom|alsace|ally|allstate|allfinanz|alipay|alibaba|alfaromeo|akdn|airtel|airforce|airbus|aigo|aig|agency|agakhan|africa|afl|afamilycompany|aetna|aero|aeg|adult|ads|adac|actor|active|aco|accountants|accountant|accenture|academy|abudhabi|abogado|able|abc|abbvie|abbott|abb|abarth|aarp|aaa|onion)(?=[^0-9a-zA-Z@+-]|$))|(?:(?:한국|香港|澳門|新加坡|台灣|台湾|中國|中国|გე|ລາວ|ไทย|ලංකා|ഭാരതം|ಭಾರತ|భారత్|சிங்கப்பூர்|இலங்கை|இந்தியா|ଭାରତ|ભારત|ਭਾਰਤ|ভাৰত|ভারত|বাংলা|भारोत|भारतम्|भारत|ڀارت|پاکستان|موريتانيا|مليسيا|مصر|قطر|فلسطين|عمان|عراق|سورية|سودان|تونس|بھارت|بارت|ایران|امارات|المغرب|السعودية|الجزائر|البحرين|الاردن|հայ|қаз|укр|срб|рф|мон|мкд|ею|бел|бг|ευ|ελ|zw|zm|za|yt|ye|ws|wf|vu|vn|vi|vg|ve|vc|va|uz|uy|us|um|uk|ug|ua|tz|tw|tv|tt|tr|tp|to|tn|tm|tl|tk|tj|th|tg|tf|td|tc|sz|sy|sx|sv|su|st|ss|sr|so|sn|sm|sl|sk|sj|si|sh|sg|se|sd|sc|sb|sa|rw|ru|rs|ro|re|qa|py|pw|pt|ps|pr|pn|pm|pl|pk|ph|pg|pf|pe|pa|om|nz|nu|nr|np|no|nl|ni|ng|nf|ne|nc|na|mz|my|mx|mw|mv|mu|mt|ms|mr|mq|mp|mo|mn|mm|ml|mk|mh|mg|mf|me|md|mc|ma|ly|lv|lu|lt|ls|lr|lk|li|lc|lb|la|kz|ky|kw|kr|kp|kn|km|ki|kh|kg|ke|jp|jo|jm|je|it|is|ir|iq|io|in|im|il|ie|id|hu|ht|hr|hn|hm|hk|gy|gw|gu|gt|gs|gr|gq|gp|gn|gm|gl|gi|gh|gg|gf|ge|gd|gb|ga|fr|fo|fm|fk|fj|fi|eu|et|es|er|eh|eg|ee|ec|dz|do|dm|dk|dj|de|cz|cy|cx|cw|cv|cu|cr|co|cn|cm|cl|ck|ci|ch|cg|cf|cd|cc|ca|bz|by|bw|bv|bt|bs|br|bq|bo|bn|bm|bl|bj|bi|bh|bg|bf|be|bd|bb|ba|az|ax|aw|au|at|as|ar|aq|ao|an|am|al|ai|ag|af|ae|ad|ac)(?=[^0-9a-zA-Z@+-]|$))|(?:xn--[\\-0-9a-z]+))))(?::([0-9]+))?(\\/(?:(?:[a-z\\u0400-\\u04FF0-9!\\*';:=\\+,\\.\\$\\/%#\\[\\]\\-\\u2013_~@\\|&\\xC0-\\xD6\\xD8-\\xF6\\xF8-\\xFF\\u0100-\\u024F\\u0253\\u0254\\u0256\\u0257\\u0259\\u025B\\u0263\\u0268\\u026F\\u0272\\u0289\\u028B\\u02BB\\u0300-\\u036F\\u1E00-\\u1EFF]*(?:\\((?:[a-z\\u0400-\\u04FF0-9!\\*';:=\\+,\\.\\$\\/%#\\[\\]\\-\\u2013_~@\\|&\\xC0-\\xD6\\xD8-\\xF6\\xF8-\\xFF\\u0100-\\u024F\\u0253\\u0254\\u0256\\u0257\\u0259\\u025B\\u0263\\u0268\\u026F\\u0272\\u0289\\u028B\\u02BB\\u0300-\\u036F\\u1E00-\\u1EFF]+|(?:[a-z\\u0400-\\u04FF0-9!\\*';:=\\+,\\.\\$\\/%#\\[\\]\\-\\u2013_~@\\|&\\xC0-\\xD6\\xD8-\\xF6\\xF8-\\xFF\\u0100-\\u024F\\u0253\\u0254\\u0256\\u0257\\u0259\\u025B\\u0263\\u0268\\u026F\\u0272\\u0289\\u028B\\u02BB\\u0300-\\u036F\\u1E00-\\u1EFF]*\\([a-z\\u0400-\\u04FF0-9!\\*';:=\\+,\\.\\$\\/%#\\[\\]\\-\\u2013_~@\\|&\\xC0-\\xD6\\xD8-\\xF6\\xF8-\\xFF\\u0100-\\u024F\\u0253\\u0254\\u0256\\u0257\\u0259\\u025B\\u0263\\u0268\\u026F\\u0272\\u0289\\u028B\\u02BB\\u0300-\\u036F\\u1E00-\\u1EFF]+\\)[a-z\\u0400-\\u04FF0-9!\\*';:=\\+,\\.\\$\\/%#\\[\\]\\-\\u2013_~@\\|&\\xC0-\\xD6\\xD8-\\xF6\\xF8-\\xFF\\u0100-\\u024F\\u0253\\u0254\\u0256\\u0257\\u0259\\u025B\\u0263\\u0268\\u026F\\u0272\\u0289\\u028B\\u02BB\\u0300-\\u036F\\u1E00-\\u1EFF]*))\\)[a-z\\u0400-\\u04FF0-9!\\*';:=\\+,\\.\\$\\/%#\\[\\]\\-\\u2013_~@\\|&\\xC0-\\xD6\\xD8-\\xF6\\xF8-\\xFF\\u0100-\\u024F\\u0253\\u0254\\u0256\\u0257\\u0259\\u025B\\u0263\\u0268\\u026F\\u0272\\u0289\\u028B\\u02BB\\u0300-\\u036F\\u1E00-\\u1EFF]*)*[\\+\\-a-z\\u0400-\\u04FF0-9=_#\\/\\xC0-\\xD6\\xD8-\\xF6\\xF8-\\xFF\\u0100-\\u024F\\u0253\\u0254\\u0256\\u0257\\u0259\\u025B\\u0263\\u0268\\u026F\\u0272\\u0289\\u028B\\u02BB\\u0300-\\u036F\\u1E00-\\u1EFF]|(?:\\((?:[a-z\\u0400-\\u04FF0-9!\\*';:=\\+,\\.\\$\\/%#\\[\\]\\-\\u2013_~@\\|&\\xC0-\\xD6\\xD8-\\xF6\\xF8-\\xFF\\u0100-\\u024F\\u0253\\u0254\\u0256\\u0257\\u0259\\u025B\\u0263\\u0268\\u026F\\u0272\\u0289\\u028B\\u02BB\\u0300-\\u036F\\u1E00-\\u1EFF]+|(?:[a-z\\u0400-\\u04FF0-9!\\*';:=\\+,\\.\\$\\/%#\\[\\]\\-\\u2013_~@\\|&\\xC0-\\xD6\\xD8-\\xF6\\xF8-\\xFF\\u0100-\\u024F\\u0253\\u0254\\u0256\\u0257\\u0259\\u025B\\u0263\\u0268\\u026F\\u0272\\u0289\\u028B\\u02BB\\u0300-\\u036F\\u1E00-\\u1EFF]*\\([a-z\\u0400-\\u04FF0-9!\\*';:=\\+,\\.\\$\\/%#\\[\\]\\-\\u2013_~@\\|&\\xC0-\\xD6\\xD8-\\xF6\\xF8-\\xFF\\u0100-\\u024F\\u0253\\u0254\\u0256\\u0257\\u0259\\u025B\\u0263\\u0268\\u026F\\u0272\\u0289\\u028B\\u02BB\\u0300-\\u036F\\u1E00-\\u1EFF]+\\)[a-z\\u0400-\\u04FF0-9!\\*';:=\\+,\\.\\$\\/%#\\[\\]\\-\\u2013_~@\\|&\\xC0-\\xD6\\xD8-\\xF6\\xF8-\\xFF\\u0100-\\u024F\\u0253\\u0254\\u0256\\u0257\\u0259\\u025B\\u0263\\u0268\\u026F\\u0272\\u0289\\u028B\\u02BB\\u0300-\\u036F\\u1E00-\\u1EFF]*))\\)))|(?:@[a-z\\u0400-\\u04FF0-9!\\*';:=\\+,\\.\\$\\/%#\\[\\]\\-\\u2013_~@\\|&\\xC0-\\xD6\\xD8-\\xF6\\xF8-\\xFF\\u0100-\\u024F\\u0253\\u0254\\u0256\\u0257\\u0259\\u025B\\u0263\\u0268\\u026F\\u0272\\u0289\\u028B\\u02BB\\u0300-\\u036F\\u1E00-\\u1EFF]+\\/))*)?(\\?[a-z0-9!?\\*'@\\(\\);:&=\\+\\$\\/%#\\[\\]\\-_\\.,~|]*[a-z0-9\\-_&=#\\/])?))",no="gi",bn={source:to,flags:no},ze=da("drafts-db","drafts-store"),ao={set:(t,n)=>ma(t,n,ze),get:t=>ha(t,ze),getMany:t=>pa(t,ze),del:t=>ga(t,ze),delMany:t=>fa(t,ze),clear:()=>va(ze),keys:()=>ba(ze)},yn={drafts:ao};function oo(t){const n=new URL("/compose/",window.location),{width:a,height:r}=window.screen,o=Math.max(0,(a-600)/2),s=Math.max(0,(r-450)/2),c=Math.min(a,600),g=Math.min(r,450),u=(t==null?void 0:t.uid)||Math.random(),h=window.open(n,"compose"+u,`width=${c},height=${g},left=${o},top=${s}`);return h&&(h.__COMPOSE__=t),h}const qe={public:"earth",unlisted:"group",private:"lock",direct:"message"};function tt({account:t,instance:n,showAvatar:a,showAcct:r,short:o,external:s,onClick:c}){const{acct:g,avatar:u,avatarStatic:h,id:d,url:l,displayName:m,emojis:b,bot:y}=t;let{username:v}=t;const[f,k,L]=g.match(/([^@]+)(@.+)/i)||[,g],A=v.toLowerCase().trim(),T=(m||"").toLowerCase().trim(),$=T.replace(/(\:(\w|\+|\-)+\:)(?=|[\!\.\?]|$)/g,"").replace(/\s+/g,"").replace(/[^a-z0-9]/gi,"");return!o&&(A===T||A===$)&&(v=null),e("a",{class:`name-text ${r?"show-acct":""} ${o?"short":""}`,href:l,target:s?"_blank":null,title:`${m?`${m} `:""}@${g}`,onClick:R=>{if(!s){if(R.preventDefault(),c)return c(R);x.showAccount={account:t,instance:n}}},children:[a&&e(U,{children:[e(Be,{url:h||u,squircle:y})," "]}),m&&!o?e(U,{children:[e("b",{children:e(ot,{text:m,emojis:b})}),!r&&v&&e(U,{children:[" ",e("i",{children:["@",v]})]})]}):o?e("i",{children:["@",v]}):e("b",{children:["@",v]}),r&&e(U,{children:[e("br",{}),e("i",{children:["@",k,e("span",{class:"ib",children:L})]})]})]})}at.extend(ya);at.extend(ka);at.extend(_a);const io=new Intl.DateTimeFormat;function kt({datetime:t,format:n}){if(!t)return null;const a=at(t),[r,o]=j("");return re(()=>{let s,c;const g=()=>{c=requestAnimationFrame(()=>{let u;if(n==="micro"){const h=at();h.diff(a,"day")<=1||h.year()===a.year()?u=a.twitter():u=io.format(a.toDate())}else u=a.fromNow();o(u),s=setTimeout(g,3e4)})};return c=requestAnimationFrame(g),()=>{clearTimeout(s),cancelAnimationFrame(c)}},[a]),e("time",{datetime:a.toISOString(),title:a.format("LLLL"),children:r})}function ro({poll:t,lang:n,readOnly:a,refresh:r=()=>{},votePoll:o=()=>{}}){const[s,c]=j("default"),{expired:g,expiresAt:u,id:h,multiple:d,options:l,ownVotes:m,voted:b,votersCount:y,votesCount:v,emojis:f}=t,k=!!u&&new Date(u),L=y||v;let A=0;L<=1e3?A=0:L<=1e4?A=1:L<=1e5&&(A=2);const[T,$]=j(!1),R=l.every(H=>H.votesCount!==null);return e("div",{lang:n,dir:"auto",class:`poll ${a?"read-only":""} ${s==="loading"?"loading":""}`,children:[T&&R||b||g?e(U,{children:[e("div",{class:"poll-options",children:l.map((H,q)=>{const{title:Z,votesCount:X}=H,K=L?(X/L*100).toFixed(A):0,W=X>0&&X===Math.max(...l.map(J=>J.votesCount));return e("div",{class:`poll-option poll-result ${W?"poll-option-leading":""}`,style:{"--percentage":`${K}%`},children:[e("div",{class:"poll-option-title",children:[e("span",{children:e(ot,{text:Z,emojis:f})}),b&&m.includes(q)&&e(U,{children:[" ",e(E,{icon:"check-circle"})]})]}),e("div",{class:"poll-option-votes",title:`${X} vote${X===1?"":"s"}`,children:[K,"%"]})]},`${q}-${Z}-${X}`)})}),!g&&!b&&e("button",{class:"poll-vote-button plain2",disabled:s==="loading",onClick:H=>{H.preventDefault(),$(!1)},children:[e(E,{icon:"arrow-left",size:"s"})," Hide results"]})]}):e("form",{onSubmit:async H=>{H.preventDefault();const q=H.target,Z=new FormData(q),X=[];Z.forEach((K,W)=>{W==="poll"&&X.push(K)}),X.length&&(c("loading"),await o(X),c("default"))},children:[e("div",{class:"poll-options",children:l.map((H,q)=>{const{title:Z}=H;return e("div",{class:"poll-option",children:e("label",{class:"poll-label",children:[e("input",{type:d?"checkbox":"radio",name:"poll",value:q,disabled:s==="loading",readOnly:a}),e("span",{class:"poll-option-title",children:e(ot,{text:Z,emojis:f})})]})})})}),!a&&e("button",{class:"poll-vote-button",type:"submit",disabled:s==="loading",children:"Vote"})]}),e("p",{class:"poll-meta",children:[!g&&!a&&e("button",{type:"button",class:"plain small",disabled:s==="loading",style:{marginLeft:-8},onClick:H=>{H.preventDefault(),c("loading"),(async()=>(await r(),c("default")))()},children:e(E,{icon:"refresh",alt:"Refresh"})}),!b&&!g&&!a&&R&&e("button",{type:"button",class:"plain small",disabled:s==="loading",onClick:H=>{H.preventDefault(),$(!T)},children:[e(E,{icon:T?"eye-open":"eye-close",alt:T?"Hide results":"Show results"})," "]}),!g&&!a&&" ",e("span",{title:v,children:We(v)})," vote",v===1?"":"s",!!y&&y!==v&&e(U,{children:[" ","• ",e("span",{title:y,children:We(y)})," ","voter",y===1?"":"s"]})," ","• ",g?"Ended":"Ending"," ",!!k&&e(kt,{datetime:k})]})," "]})}const kn=document.createElement("div");function _n(t){return t?(kn.innerHTML=t,kn.innerText.length):0}function qn(t){const{pathname:n}=new URL(t);return/^\/.*\/\d+$/i.test(n)||/^\/@[^/]+\/statuses\/\w+$/i.test(n)||/^\/notes\/[a-z0-9]+$/i.test(n)||/^\/(notice|objects)\/[a-z0-9-]+$/i.test(n)}const so=document.documentElement,ht=getComputedStyle(so),co=8;function lo(t=[]){const n=ht.getPropertyValue("--sai-top"),a=ht.getPropertyValue("--sai-right"),r=ht.getPropertyValue("--sai-bottom"),o=ht.getPropertyValue("--sai-left");return[n,a,r,o].map((c,g)=>(parseInt(c,10)||co)+(t[g]||0)).join(" ")}const uo=rt(lo,{maxAge:1e4});function mo(t){const{spoilerText:n,content:a,poll:r,mediaAttachments:o}=t;let s="";return n!=null&&n.trim()?s+=n:s+=jn(a),s=s.trim(),r&&(s+=" 📊"),o!=null&&o.length&&(s+=" "+o.map(c=>({image:"🖼️",gifv:"🎞️",video:"📹",audio:"🎵",unknown:""})[c.type]||"").join("")),s}const ho=/^((?!chrome|android).)*safari/i.test(navigator.userAgent);function po({media:t,to:n,showOriginal:a,autoAnimate:r,onClick:o=()=>{}}){const{blurhash:s,description:c,meta:g,previewRemoteUrl:u,previewUrl:h,remoteUrl:d,url:l,type:m}=t,{original:b={},small:y,focus:v}=g||{},f=a?b==null?void 0:b.width:y==null?void 0:y.width,k=a?b==null?void 0:b.height:y==null?void 0:y.height,L=a?l:h||l,A=a?d:u||d,T=f>=k?"landscape":"portrait",$=s?wa(s):null,R=Y();let H;if(v){const V=(v.x+1)/2*100,z=(1-v.y)/2*100;H=`${V.toFixed(0)}% ${z.toFixed(0)}%`}const q=Y(),Z=Pn(({x:V,y:z,scale:ee})=>{const{current:ae}=q;if(ae){const me=xa({x:V,y:z,scale:ee});ee===1?ae.style.removeProperty("transform"):ae.style.setProperty("transform",me),ae.closest(".media-zoom").style.touchAction=ee<=1.01?"pan-x":""}},[]),[X,K]=j(!1),W={enabled:X,draggableUnZoomed:!1,inertiaFriction:.9,containerProps:{className:"media-zoom",style:{overflow:"visible"}},onUpdate:Z},J=Ke(()=>n?V=>e(ct,{to:n,...V}):"div",[n]),ve=m==="image"||m==="unknown"&&h,se=Y(),[M,ne]=j(!1);Nt(()=>{if(!ve||!a||!se.current)return;const{offsetWidth:V,offsetHeight:z}=se.current,ee=f<V&&k<z;ee&&ne(ee)},[f,k]);const Q=window.innerHeight*(T==="portrait"?.45:.33),ye=T==="portrait"?0:160,O={"--width":`${f}px`,"--height":`${k}px`,"--aspectWidth":`${f/k*Math.max(ye,Q)}px`,aspectRatio:`${f} / ${k}`};if(ve)return W.containerProps.style.display="inherit",Nt(()=>{ho&&a&&(async()=>{try{await fetch(L,{mode:"no-cors"}),q.current.src=L}catch{}})()},[L]),e(J,{ref:se,class:"media media-image",onClick:o,"data-orientation":T,style:a?{backgroundImage:`url(${h})`,backgroundSize:M?`${f}px ${k}px`:void 0}:O,children:a?e(un,{...W,children:e("img",{ref:q,src:L,alt:c,width:f,height:k,"data-orientation":T,loading:"eager",decoding:"sync",onLoad:V=>{V.target.closest(".media-image").style.backgroundImage="",V.target.closest(".media-zoom").style.display="",K(!0)},onError:V=>{const{src:z}=V.target;z===L&&(V.target.src=A)}})}):e("img",{src:L,alt:c,width:f,height:k,"data-orientation":T,loading:"lazy",style:{backgroundColor:$&&`rgb(${$.join(",")})`,backgroundPosition:H||"center","--anim-duration":`${Math.min(Math.max(Math.max(f,k)/100,5),120)}s`},onLoad:V=>{V.target.closest(".media-image").style.backgroundImage="",V.target.dataset.loaded=!0},onError:V=>{const{src:z}=V.target;z===L&&(V.target.src=A)}})});if(m==="gifv"||m==="video"){const V=b.duration<31,z=m==="gifv"&&V,ee=b.duration<61,ae=En(b.duration),me=!a&&!r&&z,oe=!a&&r&&z,ce=`
    <video
      src="${l}"
      poster="${h}"
      width="${f}"
      height="${k}"
      data-orientation="${T}"
      preload="auto"
      autoplay
      muted="${z}"
      ${z?"":"controls"}
      playsinline
      loop="${ee}"
      ${z?'ondblclick="this.paused ? this.play() : this.pause()"':""}
    ></video>
  `;return e(J,{class:`media media-${z?"gif":"video"} ${oe?"media-contain":""}`,"data-orientation":T,"data-formatted-duration":ae,"data-label":z&&!a&&!oe?"GIF":"",style:!a&&O,onClick:ue=>{if(me)try{R.current.pause()}catch{}o(ue)},onMouseEnter:()=>{if(me)try{R.current.play()}catch{}},onMouseLeave:()=>{if(me)try{R.current.pause()}catch{}},children:a||oe?z&&a?e(un,{...W,enabled:!0,children:e("div",{ref:q,dangerouslySetInnerHTML:{__html:ce}})}):e("div",{class:"video-container",dangerouslySetInnerHTML:{__html:ce}}):z?e("video",{ref:R,src:l,poster:h,width:f,height:k,"data-orientation":T,preload:"auto",playsinline:!0,loop:!0,muted:!0}):e(U,{children:[e("img",{src:h,alt:c,width:f,height:k,"data-orientation":T,loading:"lazy"}),e("div",{class:"media-play",children:e(E,{icon:"play",size:"xl"})})]})})}else if(m==="audio"){const V=En(b.duration);return e(J,{class:"media media-audio","data-formatted-duration":V,onClick:o,style:!a&&O,children:[a?e("audio",{src:d||l,preload:"none",controls:!0,autoplay:!0}):h?e("img",{src:h,alt:c,width:f,height:k,"data-orientation":T,loading:"lazy"}):null,!a&&e("div",{class:"media-play",children:e(E,{icon:"play",size:"xl"})})]})}}function wn(t){return e(Ea,{children:({ref:n,closeMenu:a})=>e(ct,{...t,ref:n,onClick:({detail:r})=>a(r===0?"Enter":void 0)})})}const go=140,fo=$n({limit:1,interval:1e3});function vo(t,n){try{return n.v1.accounts.fetch(t)}catch(a){return Promise.reject(a)}}const bo=rt(vo),nt={public:"Public",unlisted:"Unlisted",private:"Followers only",direct:"Private mention"};function Je({statusID:t,status:n,instance:a,withinContext:r,size:o="m",skeleton:s,readOnly:c,contentTextWeight:g,enableTranslate:u,forceTranslate:h,previewMode:d,allowFilters:l,onMediaClick:m,quoted:b,onStatusLinkClick:y=()=>{}}){var rn,sn,cn;if(s)return e("div",{class:"status skeleton",children:[e(Be,{size:"xxl"}),e("div",{class:"container",children:[e("div",{class:"meta",children:"███ ████████"}),e("div",{class:"content-container",children:e("div",{class:"content",children:e("p",{children:"████ ████████"})})})]})]});const{masto:v,instance:f,authenticated:k}=Pe({instance:a}),{instance:L}=Pe(),A=f===L;let T=Re(t,f);const $=st(x);if(n||(n=$.statuses[T]||$.statuses[t],T=Re(n==null?void 0:n.id,f)),!n)return null;const{account:{acct:R,avatar:H,avatarStatic:q,id:Z,url:X,displayName:K,username:W,emojis:J,bot:ve,group:se},id:M,repliesCount:ne,reblogged:Q,reblogsCount:ye,favourited:O,favouritesCount:V,bookmarked:z,poll:ee,muted:ae,sensitive:me,spoilerText:oe,visibility:ce,language:ue,editedAt:xe,filtered:wt,card:he,createdAt:Ye,inReplyToId:Ze,inReplyToAccountId:ke,content:Ee,mentions:_e,mediaAttachments:pe,reblog:Te,uri:xt,url:_,emojis:C,_deleted:I,_pinned:D,_filtered:G}=n,B=p=>{p.shiftKey};if(l&&o!=="l"&&G)return e(Lo,{status:n,filterInfo:G,instance:f,containerProps:{onMouseEnter:B}});const P=new Date(Ye),N=new Date(xe),te=Ke(()=>F.session.get("currentAccount"),[]),de=Ke(()=>te&&te===Z,[Z,te]);let Ae=_e==null?void 0:_e.find(p=>p.id===ke);!Ae&&ke===M&&(Ae={url:X,username:W,displayName:K});const[ge,Me]=j(Ae);if(!r&&!ge&&ke){const p=x.accounts[ke];p?Me(p):bo(ke,v).then(S=>{Me(S),x.accounts[S.id]=S}).catch(S=>{})}const lt=ke===te||(_e==null?void 0:_e.find(p=>p.id===te)),Le=d||!!$.spoilers[M]||!1;if(Te)return se?e("div",{class:"status-group",onMouseEnter:B,children:[e("div",{class:"status-pre-meta",children:[e(E,{icon:"group",size:"l",alt:"Group"})," ",e(tt,{account:n.account,instance:f,showAvatar:!0})]}),e(Je,{status:t?null:Te,statusID:t?Te.id:null,instance:f,size:o,contentTextWeight:g})]}):e("div",{class:"status-reblog",onMouseEnter:B,children:[e("div",{class:"status-pre-meta",children:[e(E,{icon:"rocket",size:"l"})," ",e(tt,{account:n.account,instance:f,showAvatar:!0})," ",e("span",{children:"boosted"})]}),e(Je,{status:t?null:Te,statusID:t?Te.id:null,instance:f,size:o,contentTextWeight:g})]});const le=o==="l",[Oe,Jn]=j(h),Ht=Hn(!0),Yn=$.settings.contentTranslationHideLanguages||[],{contentTranslation:Et,contentTranslationAutoInline:Kt}=$.settings;Et||(u=!1);const qt=Ke(()=>{if(!Et||!Kt||c||r&&!le||d||oe||me||ee||he||pe!=null&&pe.length)return!1;const p=_n(Ee);return p>0&&p<=go},[Et,Kt,c,r,le,d,oe,me,ee,he,pe,Ee]),[Lt,ut]=j(!1),[Zn,Tt]=j(!1),Ne=Y(null);dn({ref:Ne,onResize:()=>{if(Ne.current){const{scrollHeight:p,clientHeight:S}=Ne.current;p<window.innerHeight*.4?Ne.current.classList.remove("truncated"):Ne.current.classList.toggle("truncated",p>S)}}});const je=Y(null);dn({ref:je,onResize:()=>{if(je.current){const{scrollHeight:p,clientHeight:S}=je.current;p<window.innerHeight*.4?je.current.classList.remove("truncated"):je.current.classList.toggle("truncated",p>S)}}});const Wt="Read more →",dt=Y(null),Xe="Sorry, your current logged-in instance can't interact with this post from another instance.",Gt=Pn(()=>Math.max(Math.round((oe.length+_n(Ee))/140)||1,1),[oe,Ee]),Jt=bt(P),Yt=xe&&bt(N);let mt=k&&ce!=="direct"&&ce!=="private";ce==="private"&&de&&(mt=!0);const Zt=()=>{if(!A||!k)return alert(Xe);x.showCompose={replyToStatus:n}},At=Ke(()=>pe.some(p=>{var S,ie;return!((ie=(S=p.description)==null?void 0:S.trim)!=null&&ie.call(S))}),[pe]),jo=async()=>{if(!A||!k)return alert(Xe),!1;try{if(!Q){let p="Boost this post?";if(At&&(p+=`

⚠️ Some media have no descriptions.`),!confirm(p))return!1}if(x.statuses[T]={...n,reblogged:!Q,reblogsCount:ye+(Q?-1:1)},Q){const p=await v.v1.statuses.unreblog(M);return be(p,f),!0}else{const p=await v.v1.statuses.reblog(M);return be(p,f),!0}}catch{return x.statuses[T]=n,!1}},Xt=async()=>{if(!A||!k)return alert(Xe),!1;try{if(x.statuses[T]={...n,reblogged:!Q,reblogsCount:ye+(Q?-1:1)},Q){const p=await v.v1.statuses.unreblog(M);return be(p,f),!0}else{const p=await v.v1.statuses.reblog(M);return be(p,f),!0}}catch{return x.statuses[T]=n,!1}},Qt=async()=>{if(!A||!k)return alert(Xe);try{if(x.statuses[T]={...n,favourited:!O,favouritesCount:V+(O?-1:1)},O){const p=await v.v1.statuses.unfavourite(M);be(p,f)}else{const p=await v.v1.statuses.favourite(M);be(p,f)}}catch{x.statuses[T]=n}},en=async()=>{if(!A||!k)return alert(Xe);try{if(x.statuses[T]={...n,bookmarked:!z},z){const p=await v.v1.statuses.unbookmark(M);be(p,f)}else{const p=await v.v1.statuses.bookmark(M);be(p,f)}}catch{x.statuses[T]=n}},tn=ue&&ue!==Ht&&!yt([ue],[Ht])&&!Yn.find(p=>ue===p||yt([ue],[p])),nn=Y(),Ft=e(U,{children:[!le&&e(U,{children:[e(La,{children:[e("span",{class:"ib",children:[e(E,{icon:qe[ce],size:"s"})," ",e("span",{children:nt[ce]})]})," ",e("span",{class:"ib",children:[ne>0&&e("span",{children:[e(E,{icon:"reply",alt:"Replies",size:"s"})," ",e("span",{children:We(ne)})]})," ",ye>0&&e("span",{children:[e(E,{icon:"rocket",alt:"Boosts",size:"s"})," ",e("span",{children:We(ye)})]})," ",V>0&&e("span",{children:[e(E,{icon:"heart",alt:"Favourites",size:"s"})," ",e("span",{children:We(V)})]})]}),e("br",{}),Jt]}),e(wn,{to:f?`/${f}/s/${M}`:`/s/${M}`,onClick:y,children:[e(E,{icon:"arrow-right"}),e("span",{children:["View post by @",W||R]})]})]}),!!xe&&e(fe,{onClick:()=>{ut(M)},children:[e(E,{icon:"history"}),e("span",{children:["Show Edit History",e("br",{}),e("small",{class:"more-insignificant",children:["Edited: ",Yt]})]})]}),(!le||!!xe)&&e(St,{}),le&&e(fe,{onClick:()=>Tt(!0),children:[e(E,{icon:"react"}),e("span",{children:["Boosted/Favourited by",e("span",{class:"more-insignificant",children:"…"})]})]}),!le&&A&&e(U,{children:[e("div",{class:"menu-horizontal",children:[e(Ot,{subMenu:!0,confirmLabel:e(U,{children:[e(E,{icon:"rocket"}),e("span",{children:Q?"Unboost?":"Boost to everyone?"})]}),menuFooter:At&&!Q&&e("div",{class:"footer",children:[e(E,{icon:"alert"}),"Some media have no descriptions."]}),disabled:!mt,onClick:async()=>{try{const p=await Xt();!le&&p&&Ce(Q?"Unboosted":"Boosted")}catch{}},children:[e(E,{icon:"rocket",style:{color:Q&&"var(--reblog-color)"}}),e("span",{children:Q?"Unboost":"Boost…"})]}),e(fe,{onClick:()=>{try{Qt(),le||Ce(O?"Unfavourited":"Favourited")}catch{}},children:[e(E,{icon:"heart",style:{color:O&&"var(--favourite-color)"}}),e("span",{children:O?"Unfavourite":"Favourite"})]})]}),e("div",{class:"menu-horizontal",children:[e(fe,{onClick:Zt,children:[e(E,{icon:"reply"}),e("span",{children:"Reply"})]}),e(fe,{onClick:()=>{try{en(),le||Ce(z?"Unbookmarked":"Bookmarked")}catch{}},children:[e(E,{icon:"bookmark",style:{color:z&&"var(--link-color)"}}),e("span",{children:z?"Unbookmark":"Bookmark"})]})]})]}),u?e(fe,{disabled:Oe,onClick:()=>{Jn(!0)},children:[e(E,{icon:"translate"}),e("span",{children:"Translate"})]}):(!ue||tn)&&e(wn,{to:`${f?`/${f}`:""}/s/${M}?translate=1`,children:[e(E,{icon:"translate"}),e("span",{children:"Translate"})]}),(!le&&A||u)&&e(St,{}),e(fe,{href:_,target:"_blank",children:[e(E,{icon:"external"}),e("small",{class:"menu-double-lines",children:Eo(_)})]}),e("div",{class:"menu-horizontal",children:[e(fe,{onClick:()=>{try{navigator.clipboard.writeText(_),Ce("Link copied")}catch{Ce("Unable to copy link")}},children:[e(E,{icon:"link"}),e("span",{children:"Copy"})]}),(navigator==null?void 0:navigator.share)&&((rn=navigator==null?void 0:navigator.canShare)==null?void 0:rn.call(navigator,{url:_}))&&e(fe,{onClick:()=>{try{navigator.share({url:_})}catch{alert("Sharing doesn't seem to work.")}},children:[e(E,{icon:"share"}),e("span",{children:"Share…"})]})]}),(de||lt)&&e(St,{}),(de||lt)&&e(fe,{onClick:async()=>{try{const p=await v.v1.statuses[ae?"unmute":"mute"](M);be(p,f),Ce(ae?"Conversation unmuted":"Conversation muted")}catch{Ce(ae?"Unable to unmute conversation":"Unable to mute conversation")}},children:ae?e(U,{children:[e(E,{icon:"unmute"}),e("span",{children:"Unmute conversation"})]}):e(U,{children:[e(E,{icon:"mute"}),e("span",{children:"Mute conversation"})]})}),de&&e("div",{class:"menu-horizontal",children:[e(fe,{onClick:()=>{x.showCompose={editStatus:n}},children:[e(E,{icon:"pencil"}),e("span",{children:"Edit"})]}),le&&e(Ot,{subMenu:!0,confirmLabel:e(U,{children:[e(E,{icon:"trash"}),e("span",{children:"Delete this post?"})]}),menuItemClassName:"danger",onClick:()=>{(async()=>{try{await v.v1.statuses.remove(M);const p=Bn(M,f);p._deleted=!0,Ce("Deleted")}catch{Ce("Unable to delete")}})()},children:[e(E,{icon:"trash"}),e("span",{children:"Delete…"})]})]})]}),an=Y(),[Xn,Ct]=j(!1),[Qn,on]=j({x:0,y:0}),ea=Rn(p=>{var ln;const{clientX:S,clientY:ie}=((ln=p.touches)==null?void 0:ln[0])||p,Fe=p.target.closest("a");Fe&&/^https?:\/\//.test(Fe.getAttribute("href"))||(p.preventDefault(),on({x:S,y:ie}),Ct(!0))},{threshold:600,captureEvent:!0,detect:"touch",cancelOnMovement:4}),It=o!=="l"&&!d&&!I&&!b;return e("article",{ref:dt,tabindex:"-1",class:`status ${!r&&ge?"status-reply-to":""} visibility-${ce} ${D?"status-pinned":""} ${{s:"small",m:"medium",l:"large"}[o]} ${I?"status-deleted":""} ${b?"status-card":""}`,onMouseEnter:B,onContextMenu:p=>{if(!It||p.metaKey)return;const S=p.target.closest("a");S&&/^https?:\/\//.test(S.getAttribute("href"))||(p.preventDefault(),on({x:p.clientX,y:p.clientY}),Ct(!0))},...It?ea():{},children:[It&&e(Ta,{ref:an,state:Xn?"open":void 0,anchorPoint:Qn,direction:"right",onClose:p=>{var S,ie,Fe;Ct(!1),(p==null?void 0:p.reason)==="click"&&((Fe=(ie=(S=dt.current)==null?void 0:S.closest("[tabindex]"))==null?void 0:ie.focus)==null||Fe.call(ie))},portal:{target:document.body},containerProps:{style:{zIndex:1001},onClick:()=>{var p,S;(S=(p=an.current)==null?void 0:p.closeMenu)==null||S.call(p)}},overflow:"auto",boundingBoxPadding:uo(),unmountOnClose:!0,children:Ft}),o!=="l"&&e("div",{class:"status-badge",children:[Q&&e(E,{class:"reblog",icon:"rocket",size:"s"}),O&&e(E,{class:"favourite",icon:"heart",size:"s"}),z&&e(E,{class:"bookmark",icon:"bookmark",size:"s"}),D&&e(E,{class:"pin",icon:"pin",size:"s"})]}),o!=="s"&&e("a",{href:X,tabindex:"-1",title:`@${R}`,onClick:p=>{p.preventDefault(),p.stopPropagation(),x.showAccount={account:n.account,instance:f}},children:e(Be,{url:q||H,size:"xxl",squircle:ve})}),e("div",{class:"container",children:[e("div",{class:"meta",children:[e(tt,{account:n.account,instance:f,showAvatar:o==="s",showAcct:le})," ",o!=="l"&&(I?e("span",{class:"status-deleted-tag",children:"Deleted"}):_&&!d&&!b?e(Bt,{instanceRef:nn,portal:{target:document.body},containerProps:{style:{zIndex:1001},onClick:p=>{var S,ie;p.target===p.currentTarget&&((ie=(S=nn.current)==null?void 0:S.closeMenu)==null||ie.call(S))}},align:"end",gap:4,overflow:"auto",viewScroll:"close",boundingBoxPadding:"8 8 8 8",unmountOnClose:!0,menuButton:({open:p})=>e(ct,{to:f?`/${f}/s/${M}`:`/s/${M}`,onClick:S=>{S.preventDefault(),S.stopPropagation(),y==null||y()},class:`time ${p?"is-open":""}`,children:[e(E,{icon:qe[ce],alt:nt[ce],size:"s"})," ",e(kt,{datetime:P,format:"micro"})]}),children:Ft}):e("span",{class:"time",children:[e(E,{icon:qe[ce],alt:nt[ce],size:"s"})," ",e(kt,{datetime:P,format:"micro"})]}))]}),ce==="direct"&&e(U,{children:[e("div",{class:"status-direct-badge",children:"Private mention"})," "]}),!r&&e(U,{children:ke===((sn=n.account)==null?void 0:sn.id)||$.statusThreadNumber[T]?e("div",{class:"status-thread-badge",children:[e(E,{icon:"thread",size:"s"}),"Thread",$.statusThreadNumber[T]?` ${$.statusThreadNumber[T]}/X`:""]}):!!Ze&&!!ge&&(!!oe||!_e.find(p=>p.id===ke))&&e("div",{class:"status-reply-badge",children:[e(E,{icon:"reply"})," ",e(tt,{account:ge,instance:f,short:!0})]})}),e("div",{class:`content-container ${oe||me?"has-spoiler":""} ${Le?"show-spoiler":""}`,"data-content-text-weight":g?Gt():null,style:(le||g)&&{"--content-text-weight":Gt()},children:[!!oe&&e(U,{children:[e("div",{class:"content spoiler-content",lang:ue,dir:"auto",ref:Ne,"data-read-more":Wt,children:e("p",{children:e(ot,{text:oe,emojis:C})})}),e("button",{class:`light spoiler ${Le?"spoiling":""}`,type:"button",onClick:p=>{p.preventDefault(),p.stopPropagation(),Le?delete x.spoilers[M]:x.spoilers[M]=!0},children:[e(E,{icon:Le?"eye-open":"eye-close"})," ",Le?"Show less":"Show more"]})]}),e("div",{class:"content",ref:je,"data-read-more":Wt,children:[e("div",{lang:ue,dir:"auto",class:"inner-content",onClick:ja({mentions:_e,instance:f,previewMode:d}),dangerouslySetInnerHTML:{__html:Vt(Ee,{emojis:C,postEnhanceDOM:p=>{p.querySelectorAll('a.u-url[target="_blank"]').forEach(S=>{/http/i.test(S.innerText.trim())||S.removeAttribute("target")}),!d&&Array.from(p.querySelectorAll("a[href]:not(.u-url):not(.mention):not(.hashtag)")).filter(S=>{const ie=S.href;return!(ie===n.url||ie===n.uri)&&qn(ie)}).forEach((S,ie)=>{Wn(L,S.href).then(Fe=>{Fe&&(S.removeAttribute("target"),T&&(Array.isArray(x.statusQuotes[T])||(x.statusQuotes[T]=[]),x.statusQuotes[T][ie]||x.statusQuotes[T].splice(ie,0,Fe)))})})}})}}),e(To,{id:M,instance:f,level:b})]}),!!ee&&e(ro,{lang:ue,poll:ee,readOnly:c||!A||!k,onUpdate:p=>{x.statuses[T].poll=p},refresh:()=>v.v1.polls.fetch(ee.id).then(p=>{x.statuses[T].poll=p}).catch(p=>{}),votePoll:p=>v.v1.polls.vote(ee.id,{choices:p}).then(S=>{x.statuses[T].poll=S}).catch(S=>{})}),((u||qt)&&!!Ee.trim()&&tn||Oe)&&e(Qa,{forceTranslate:Oe||qt,mini:!le&&!r,sourceLanguage:ue,text:(oe?`${oe}

`:"")+jn(Ee)+((cn=ee==null?void 0:ee.options)!=null&&cn.length?`

Poll:
${ee.options.map(p=>`- ${p.title}${p.votesCount>=0?` (${p.votesCount})`:""}`).join(`
`)}`:"")}),!oe&&me&&!!pe.length&&e("button",{class:`plain spoiler ${Le?"spoiling":""}`,type:"button",onClick:p=>{p.preventDefault(),p.stopPropagation(),Le?delete x.spoilers[M]:x.spoilers[M]=!0},children:[e(E,{icon:Le?"eye-open":"eye-close"})," Sensitive content"]}),!!pe.length&&e("div",{class:`media-container media-eq${pe.length} ${pe.length>2?"media-gt2":""} ${pe.length>4?"media-gt4":""}`,children:pe.slice(0,le?void 0:4).map((p,S)=>e(po,{media:p,autoAnimate:le,to:`/${f}/s/${M}?${r?"media":"media-only"}=${S+1}`,onClick:m?ie=>{m(ie,S,p,n)}:void 0},p.id))}),!!he&&(he==null?void 0:he.url)!==n.url&&(he==null?void 0:he.url)!==n.uri&&/^https/i.test(he==null?void 0:he.url)&&!me&&!oe&&!ee&&!pe.length&&!$.statusQuotes[T]&&e(yo,{card:he,instance:L})]}),le&&e(U,{children:[e("div",{class:"extra-meta",children:I?e("span",{class:"status-deleted-tag",children:"Deleted"}):e(U,{children:[e(E,{icon:qe[ce],alt:nt[ce]})," ",e("a",{href:_,target:"_blank",children:e("time",{class:"created",datetime:P.toISOString(),children:Jt})}),xe&&e(U,{children:[" ","• ",e(E,{icon:"pencil",alt:"Edited"})," ",e("time",{class:"edited",datetime:N.toISOString(),onClick:()=>{ut(M)},children:Yt})]})]})}),e("div",{class:`actions ${I?"disabled":""}`,children:[e("div",{class:"action has-count",children:e(pt,{title:"Reply",alt:"Comments",class:"reply-button",icon:"comment",count:ne,onClick:Zt})}),e(Ot,{disabled:!mt,onClick:Xt,confirmLabel:e(U,{children:[e(E,{icon:"rocket"}),e("span",{children:Q?"Unboost?":"Boost to everyone?"})]}),menuFooter:At&&!Q&&e("div",{class:"footer",children:[e(E,{icon:"alert"}),"Some media have no descriptions."]}),children:e("div",{class:"action has-count",children:e(pt,{checked:Q,title:["Boost","Unboost"],alt:["Boost","Boosted"],class:"reblog-button",icon:"rocket",count:ye,disabled:!mt})})}),e("div",{class:"action has-count",children:e(pt,{checked:O,title:["Favourite","Unfavourite"],alt:["Favourite","Favourited"],class:"favourite-button",icon:"heart",count:V,onClick:Qt})}),e("div",{class:"action",children:e(pt,{checked:z,title:["Bookmark","Unbookmark"],alt:["Bookmark","Bookmarked"],class:"bookmark-button",icon:"bookmark",onClick:en})}),e(Bt,{portal:{target:document.querySelector(".status-deck")||document.body},align:"end",gap:4,overflow:"auto",viewScroll:"close",boundingBoxPadding:"8 8 8 8",menuButton:e("div",{class:"action",children:e("button",{type:"button",title:"More",class:"plain more-button",children:e(E,{icon:"more",size:"l",alt:"More"})})}),children:Ft})]})]})]}),!!Lt&&e(it,{onClick:p=>{var S;p.target===p.currentTarget&&(ut(!1),(S=dt.current)==null||S.focus())},children:e(ko,{statusID:Lt,instance:f,fetchStatusHistory:()=>v.v1.statuses.listHistory(Lt),onClose:()=>{var p;ut(!1),(p=dt.current)==null||p.focus()}})}),Zn&&e(it,{class:"light",onClick:p=>{p.target===p.currentTarget&&Tt(!1)},children:e(_o,{statusID:M,instance:f,onClose:()=>Tt(!1)})})]})}function yo({card:t,instance:n}){var $;const a=st(x),{blurhash:r,title:o,description:s,html:c,providerName:g,authorName:u,width:h,height:d,image:l,url:m,type:b,embedUrl:y,language:v}=t,f=o||g||u,L=h/d>=1.2?"large":"",[A,T]=j(null);if(re(()=>{f&&l&&qn(m)&&Wn(n,m).then(R=>{if(!R)return;const{id:H,url:q}=R;T("#"+q)})},[f,l]),a.unfurledLinks[m])return null;if(f&&(l||b==="photo"&&r)){const R=new URL(m).hostname.replace(/^www\./,"");let H;if(!l){const X=Aa(r,44,44),K=document.createElement("canvas");K.width=44,K.height=44;const W=K.getContext("2d"),J=W.createImageData(44,44);J.data.set(X),W.putImageData(J,0,0),H=K.toDataURL()}return e("a",{href:A||m,target:A?null:"_blank",rel:"nofollow noopener noreferrer",class:`card link ${H?"":L}`,lang:v,children:[e("div",{class:"card-image",children:e("img",{src:l||H,width:h,height:d,loading:"lazy",alt:"",onError:q=>{try{q.target.style.display="none"}catch{}}})}),e("div",{class:"meta-container",children:[e("p",{class:"meta domain",children:R}),e("p",{class:"title",children:o}),e("p",{class:"meta",children:s||g||u})]})]})}else{if(b==="photo")return e("a",{href:m,target:"_blank",rel:"nofollow noopener noreferrer",class:"card photo",children:e("img",{src:y,width:h,height:d,alt:o||s,loading:"lazy",style:{height:"auto",aspectRatio:`${h}/${d}`}})});if(b==="video"){if(/youtube/i.test(g)){const R=($=m.match(/watch\?v=([^&]+)/))==null?void 0:$[1];if(R)return e("lite-youtube",{videoid:R,nocookie:!0})}return e("div",{class:"card video",style:{aspectRatio:`${h}/${d}`},dangerouslySetInnerHTML:{__html:c}})}else if(f&&!l){const R=new URL(m).hostname.replace(/^www\./,"");return e("a",{href:A||m,target:A?null:"_blank",rel:"nofollow noopener noreferrer",class:"card link no-image",lang:v,children:e("div",{class:"meta-container",children:[e("p",{class:"meta domain",children:[e(E,{icon:"link",size:"s"})," ",e("span",{children:R})]}),e("p",{class:"title",children:o}),e("p",{class:"meta",children:s||g||u})]})})}}}function ko({statusID:t,instance:n,fetchStatusHistory:a=()=>{},onClose:r}){const[o,s]=j("default"),[c,g]=j([]);return re(()=>{s("loading"),(async()=>{try{const u=await a();g(u),s("default")}catch{s("error")}})()},[]),e("div",{id:"edit-history",class:"sheet",children:[!!r&&e("button",{type:"button",class:"sheet-close",onClick:r,children:e(E,{icon:"x"})}),e("header",{children:[e("h2",{children:"Edit History"}),o==="error"&&e("p",{children:"Failed to load history"}),o==="loading"&&e("p",{children:[e(Ge,{abrupt:!0})," Loading…"]})]}),e("main",{tabIndex:"-1",children:c.length>0&&e("ol",{children:c.map(u=>{const{createdAt:h}=u,d=new Date(h);return e("li",{class:"history-item",children:[e("h3",{children:e("time",{children:bt(d,{formatOpts:{weekday:"short",second:"numeric"}})})}),e(Je,{status:u,instance:n,size:"s",withinContext:!0,readOnly:!0,previewMode:!0})]},h)})})})]})}const xn=80;function _o({statusID:t,instance:n,onClose:a}){const{masto:r}=Pe({instance:n}),[o,s]=j("default"),[c,g]=j([]),[u,h]=j(!1),d=Y(),l=Y();async function m(b){h(!1),s("loading"),(async()=>{var y,v,f,k;try{b&&(d.current=r.v1.statuses.listRebloggedBy(t,{limit:xn}),l.current=r.v1.statuses.listFavouritedBy(t,{limit:xn}));const[{value:L},{value:A}]=await Promise.allSettled([d.current.next(),l.current.next()]);if((y=L.value)!=null&&y.length||(v=A.value)!=null&&v.length){if((f=L.value)!=null&&f.length)for(const T of L.value){const $=c.find(R=>R.id===T.id);$?$._types.push("reblog"):c.push({...T,_types:["reblog"]})}if((k=A.value)!=null&&k.length)for(const T of A.value){const $=c.find(R=>R.id===T.id);$?$._types.push("favourite"):c.push({...T,_types:["favourite"]})}g(c),h(!L.done||!A.done)}else h(!1);s("default")}catch{s("error")}})()}return re(()=>{m(!0)},[]),e("div",{id:"reactions-container",class:"sheet",children:[!!a&&e("button",{type:"button",class:"sheet-close",onClick:a,children:e(E,{icon:"x"})}),e("header",{children:e("h2",{children:"Boosted/Favourited by…"})}),e("main",{children:c.length>0?e(U,{children:[e("ul",{class:"reactions-list",children:c.map(b=>{const{_types:y}=b;return e("li",{children:[e("div",{class:"reactions-block",children:y.map(v=>e(E,{icon:{reblog:"rocket",favourite:"heart"}[v],class:`${v}-icon`}))}),e(Vn,{account:b,instance:n})]},b.id+y)})}),o==="default"?u?e(Fa,{onChange:b=>{b&&m()},children:e("button",{type:"button",class:"plain block",onClick:()=>m(),children:"Show more…"})}):e("p",{class:"ui-state insignificant",children:"The end."}):o==="loading"&&e("p",{class:"ui-state",children:e(Ge,{abrupt:!0})})]}):o==="loading"?e("p",{class:"ui-state",children:e(Ge,{abrupt:!0})}):o==="error"?e("p",{class:"ui-state",children:"Unable to load accounts"}):e("p",{class:"ui-state insignificant",children:"No one yet."})})]})}function pt({checked:t,count:n,class:a,title:r,alt:o,icon:s,onClick:c,...g}){typeof r=="string"&&(r=[r,r]),typeof o=="string"&&(o=[o,o]);const[u,h]=j(r[0]||""),[d,l]=j(o[0]||"");return re(()=>{t?(h(r[1]||""),l(o[1]||"")):(h(r[0]||""),l(o[0]||""))},[t,r,o]),e("button",{type:"button",title:u,class:`plain ${a} ${t?"checked":""}`,onClick:m=>{c&&(m.preventDefault(),m.stopPropagation(),c(m))},...g,children:[e(E,{icon:s,size:"l",alt:d}),!!n&&e(U,{children:[" ",e("small",{title:n,children:We(n)})]})]})}function En(t){if(!t)return;let n=Math.floor(t/3600),a=Math.floor(t%3600/60),r=Math.round(t%60);return n===0?`${a}:${r.toString().padStart(2,"0")}`:`${n}:${a.toString().padStart(2,"0")}:${r.toString().padStart(2,"0")}`}const wo=/(twitter|github)\.com/i,Ln={};function xo(t,n){var v;const a=Ca(x);if(wo.test(n)||Ln[n])return;if(new RegExp(t+"/").test((v=a.unfurledLinks[n])==null?void 0:v.url))return Promise.resolve(a.unfurledLinks[n]);let o,s=n;/\/\/elk\.[^\/]+\/[^.]+\.[^.]+/i.test(s)&&(s=s.replace(/elk\.[^\/]+\//i,""));const c=new URL(s),g=c.hostname,u=c.pathname,d=/\/@([^@\/]+)@?([^\/]+)?\/(\d+)$/i.exec(u);if(d){const f=d[3],{masto:k}=Pe({instance:g});o=k.v1.statuses.fetch(f).then(L=>{if(L!=null&&L.id)return{status:L,instance:g};throw new Error("No results")})}const{masto:l}=Pe({instance:t}),m=l.v2.search({q:n,type:"statuses",resolve:!0,limit:1}).then(f=>{if(f.statuses.length>0)return{status:f.statuses[0],instance:t};throw new Error("No results")});function b(f){const{status:k,instance:L}=f,{id:A}=k,T=`/${L}/s/${A}`,$={id:A,instance:L,url:T};return x.unfurledLinks[n]=$,be(k,L,{skipThreading:!0}),$}function y(f){Ln[n]=!0}return o?Promise.any([o,m]).then(b).catch(y):m.then(b).catch(y)}function Eo(t){if(!t)return;const n=new URL(t),{host:a,pathname:r}=n,o=r.replace(/\/$/,""),[s,c,g]=o.match(/\/(@[^\/]+)\/(.*)/)||[];return e(U,{children:[a,c?e(U,{children:["/",c,e("wbr",{}),e("span",{class:"more-insignificant",children:["/",g]})]}):e("span",{class:"more-insignificant",children:o})]})}const Wn=fo(rt(xo,{cacheKey:(t,n)=>`${t}:${n}`}));function Lo({status:t,filterInfo:n,instance:a,containerProps:r={}}){const{account:{avatar:o,avatarStatic:s,bot:c,group:g},createdAt:u,visibility:h,reblog:d}=t,l=!!d,m=(n==null?void 0:n.titlesStr)||"",b=new Date(u),y=mo(t.reblog||t),[v,f]=j(!1),k=Rn(()=>{f(!0)},{threshold:600,captureEvent:!0,detect:"touch",cancelOnMovement:4});return e("div",{class:l?g?"status-group":"status-reblog":"",...r,title:y,onContextMenu:L=>{L.preventDefault(),f(!0)},...k(),children:[e("article",{class:"status filtered",tabindex:"-1",children:[e("b",{class:"status-filtered-badge clickable badge-meta",title:m,onClick:L=>{L.preventDefault(),f(!0)},children:[e("span",{children:"Filtered"}),e("span",{children:m})]})," ",e(Be,{url:s||o,squircle:c}),e("span",{class:"status-filtered-info",children:[e("span",{class:"status-filtered-info-1",children:[e(tt,{account:t.account,instance:a})," ",e(E,{icon:qe[h],alt:nt[h],size:"s"})," ",l?"boosted":e(kt,{datetime:b,format:"micro"})]}),e("span",{class:"status-filtered-info-2",children:[l&&e(U,{children:[e(Be,{url:d.account.avatarStatic||d.account.avatar,squircle:c})," "]}),y]})]})]}),!!v&&e(it,{class:"light",onClick:L=>{L.target===L.currentTarget&&f(!1)},children:e("div",{id:"filtered-status-peek",class:"sheet",children:[e("button",{type:"button",class:"sheet-close",onClick:()=>f(!1),children:e(E,{icon:"x"})}),e("header",{children:[e("b",{class:"status-filtered-badge",children:"Filtered"})," ",m]}),e("main",{tabIndex:"-1",children:e(ct,{class:"status-link",to:`/${a}/s/${t.id}`,onClick:()=>{f(!1)},children:[e(Je,{status:t,instance:a,size:"s",readOnly:!0}),e("button",{type:"button",class:"status-post-link plain3",children:"See post »"})]})})]})})]})}const To=Mn(({id:t,instance:n,level:a=0})=>{if(!t||!n)return;const r=st(x),o=Re(t,n),s=r.statusQuotes[o],c=s==null?void 0:s.filter((g,u,h)=>h.findIndex(d=>d.url===g.url)===u);if(c!=null&&c.length&&!(a>2))return c.map(g=>e(ct,{to:`${g.instance?`/${g.instance}`:""}/s/${g.id}`,class:"status-card-link",children:e(Je,{statusID:g.id,instance:g.instance,size:"s",quoted:a+1})},g.instance+g.id))}),Tn=Mn(Je),Ao=Ut.reduce((t,n)=>{const[a,r,o]=n;return t[a]={common:r,native:o},t},{}),Gn={"5 minutes":5*60,"30 minutes":30*60,"1 hour":60*60,"6 hours":6*60*60,"12 hours":12*60*60,"1 day":24*60*60,"3 days":3*24*60*60,"7 days":7*24*60*60},Fo=Object.values(Gn),An=24*60*60,Fn=t=>{if(!t)return An;const n=(new Date(t).getTime()-Date.now())/1e3;return Fo.find(a=>a>=n)||An},$e=document.createElement("ul");$e.role="listbox";$e.className="text-expander-menu";const Co=16,Io=new IntersectionObserver(t=>{t.forEach(n=>{if(n.isIntersecting){const{left:a,width:r}=n.boundingClientRect,{innerWidth:o}=window;a+r>o&&($e.style.left=o-r-Co+"px")}})});Io.observe($e);const Ie=yt([new Intl.DateTimeFormat().resolvedOptions().locale,...navigator.languages],Ut.map(t=>t[0]),"en"),So=new RegExp(bn.source,bn.flags),Do=/(^|[^\/\w])@(([a-z0-9_]+)@[a-z0-9\.\-]+[a-z0-9]+)/gi,$o="$2xxxxxxxxxxxxxxxxxxxxxxx";function Po(t){return t.replace(So,$o).replace(Do,"$1@$3")}function Jo({onClose:t,replyToStatus:n,editStatus:a,draftStatus:r,standalone:o,hasOpener:s}){var xt;const{masto:c,instance:g}=Pe(),[u,h]=j("default"),d=Y((r==null?void 0:r.uid)||Ia()),l=_t(),m=l.info,{configuration:b}=zn(),{statuses:{maxCharacters:y,maxMediaAttachments:v,charactersReservedPerUrl:f},mediaAttachments:{supportedMimeTypes:k,imageSizeLimit:L,imageMatrixLimit:A,videoSizeLimit:T,videoMatrixLimit:$,videoFrameRateLimit:R},polls:{maxOptions:H,maxCharactersPerOption:q,maxExpiration:Z,minExpiration:X}}=b,K=Y(),W=Y(),[J,ve]=j("public"),[se,M]=j(!1),[ne,Q]=j(F.session.get("currentLanguage")||Ie),ye=Y(ne),[O,V]=j([]),[z,ee]=j(null),ae=F.account.get("preferences")||{},me=()=>{K.current&&K.current.dispatchEvent(new Event("input"))},oe=()=>{setTimeout(()=>{var _;(_=K.current)==null||_.focus()},300)};re(()=>{if(n){const{spoilerText:_,visibility:C,language:I,sensitive:D}=n;_&&W.current&&(W.current.value=_);const B=[...new Set([n.account.acct,...n.mentions.map(P=>P.acct)])].filter(P=>P!==m.acct);B.length>0&&(K.current.value=`${B.map(P=>`@${P}`).join(" ")} `,me()),oe(),ve(C==="public"&&ae["posting:default:visibility"]?ae["posting:default:visibility"]:C),Q(I||ae.postingDefaultLanguage||Ie),M(D)}else if(a){const{visibility:_,language:C,sensitive:I,poll:D,mediaAttachments:G}=a,B=!!(D!=null&&D.options)&&{...D,options:D.options.map(P=>(P==null?void 0:P.title)||P),expiresIn:(D==null?void 0:D.expiresIn)||Fn(D.expiresAt)};h("loading"),(async()=>{try{const P=await c.v1.statuses.fetchSource(a.id),{text:N,spoilerText:te}=P;K.current.value=N,K.current.dataset.source=N,me(),oe(),W.current.value=te,ve(_),Q(C||presf.postingDefaultLanguage||Ie),M(I),ee(B),V(G),h("default")}catch(P){alert((P==null?void 0:P.reason)||P),h("error")}})()}else oe(),ae["posting:default:visibility"]&&ve(ae["posting:default:visibility"]),ae["posting:default:language"]&&Q(ae["posting:default:language"]),ae["posting:default:sensitive"]&&M(ae["posting:default:sensitive"]);if(r){const{status:_,spoilerText:C,visibility:I,language:D,sensitive:G,poll:B,mediaAttachments:P}=r,N=!!(B!=null&&B.options)&&{...B,options:B.options.map(te=>(te==null?void 0:te.title)||te),expiresIn:(B==null?void 0:B.expiresIn)||Fn(B.expiresAt)};K.current.value=_,me(),oe(),C&&(W.current.value=C),I&&ve(I),Q(D||ae.postingDefaultLanguage||Ie),G!==null&&M(G),N&&ee(N),P&&V(P)}},[r,a,n]);const ce=Y(),ue="You have unsaved changes. Discard this post?",xe=()=>{const{value:_,dataset:C}=K.current;if(u==="loading")return!1;const I=O.length>0;if(!_&&!I||O.length>0&&O.every(N=>N.id))return!0;const G=(n==null?void 0:n.account.id)===m.id,B=n&&_.trim()===`@${n.account.acct}`;return!!(!G&&B||_===(C==null?void 0:C.source))},wt=()=>xe()?!0:confirm(ue);re(()=>{const _=C=>{xe()||(C.preventDefault(),C.returnValue=ue)};return window.addEventListener("beforeunload",_,{capture:!0}),()=>window.removeEventListener("beforeunload",_,{capture:!0})},[]);const he=()=>{const{value:_}=K.current,{value:C}=W.current;return mn(Po(_))+mn(C)},Ye=()=>{const _=he();x.composerCharacterCount=_};re(Ye,[]);const Ze=Y(!1);hn("esc",()=>{Ze.current=!0},{enableOnFormTags:!0}),hn("esc",()=>{!o&&Ze.current&&wt()&&t(),Ze.current=!1},{enableOnFormTags:!0,keyup:!0});const ke=Y({}),Ee=()=>`${gt()}#${d.current}`,_e=()=>{if(a)return;const _=Ee(),C={key:_,replyTo:n?{id:n.id,account:{id:n.account.id,username:n.account.username,acct:n.account.acct}}:null,draftStatus:{uid:d.current,status:K.current.value,spoilerText:W.current.value,visibility:J,language:ne,sensitive:se,poll:z,mediaAttachments:O}};!Sa(C,ke.current)&&!xe()&&(yn.drafts.set(_,{...C,state:"unsaved",updatedAt:Date.now()}).then(()=>{}).catch(I=>{}),ke.current=structuredClone(C))};eo(_e,5e3),re(()=>(_e(),()=>{yn.drafts.del(Ee())}),[]),re(()=>{const _=I=>{const{items:D}=I.clipboardData||I.dataTransfer,G=[];for(let B=0;B<D.length;B++){const P=D[B];if(P.kind==="file"){const N=P.getAsFile();N&&k.includes(N.type)&&G.push(N)}}if(G.length>0&&O.length>=v){alert(`You can only attach up to ${v} files.`);return}if(G.length>0){I.preventDefault(),I.stopPropagation();const B=v-O.length,P=G.slice(0,B);if(P.length<=0){alert(`You can only attach up to ${v} files.`);return}const N=P.map(te=>({file:te,type:te.type,size:te.size,url:URL.createObjectURL(te),id:null,description:null}));V([...O,...N])}};window.addEventListener("paste",_);const C=I=>{I.dataTransfer.items.length>0&&(I.preventDefault(),I.stopPropagation())};return window.addEventListener("dragover",C),window.addEventListener("drop",_),()=>{window.removeEventListener("paste",_),window.removeEventListener("dragover",C),window.removeEventListener("drop",_)}},[O]);const[pe,Te]=j(!1);return e("div",{id:"compose-container-outer",children:[e("div",{id:"compose-container",class:o?"standalone":"",children:[e("div",{class:"compose-top",children:[(m==null?void 0:m.avatarStatic)&&e(Vn,{account:m,accountInstance:l.instanceURL,hideDisplayName:!0}),o?s&&e("button",{type:"button",class:"light pop-button",disabled:u==="loading",onClick:()=>{if(!window.opener){alert("Looks like you closed the parent window.");return}window.opener.__STATES__.showCompose&&!confirm("Looks like you already have a compose field open in the parent window. Popping in this window will discard the changes you made in the parent window. Continue?")||t({fn:()=>{const _={editStatus:a,replyToStatus:n,draftStatus:{uid:d.current,status:K.current.value,spoilerText:W.current.value,visibility:J,language:ne,sensitive:se,poll:z,mediaAttachments:O}};window.opener.__COMPOSE__=_,window.opener.__STATES__.showCompose=!0}})},children:e(E,{icon:"popin",alt:"Pop in"})}):e("span",{children:[e("button",{type:"button",class:"light pop-button",disabled:u==="loading",onClick:()=>{if(!oo({editStatus:a,replyToStatus:n,draftStatus:{uid:d.current,status:K.current.value,spoilerText:W.current.value,visibility:J,language:ne,sensitive:se,poll:z,mediaAttachments:O}})){alert("Looks like your browser is blocking popups.");return}t()},children:e(E,{icon:"popout",alt:"Pop out"})})," ",e("button",{type:"button",class:"light close-button",disabled:u==="loading",onClick:()=>{wt()&&t()},children:e(E,{icon:"x"})})]})]}),!!n&&e("div",{class:"status-preview",children:[e(Tn,{status:n,size:"s",previewMode:!0}),e("div",{class:"status-preview-legend reply-to",children:["Replying to @",n.account.acct||n.account.username,"’s post"]})]}),!!a&&e("div",{class:"status-preview",children:[e(Tn,{status:a,size:"s",previewMode:!0}),e("div",{class:"status-preview-legend",children:"Editing source post"})]}),e("form",{ref:ce,class:`form-visibility-${J}`,style:{pointerEvents:u==="loading"?"none":"auto",opacity:u==="loading"?.5:1},onKeyDown:_=>{_.key==="Enter"&&(_.ctrlKey||_.metaKey)&&ce.current.dispatchEvent(new Event("submit",{cancelable:!0}))},onSubmit:_=>{_.preventDefault();const C=new FormData(_.target),I=Object.fromEntries(C.entries());let{status:D,visibility:G,sensitive:B,spoilerText:P}=I;if(B=B==="on",z){if(z.options.length<2){alert("Poll must have at least 2 options");return}if(z.options.some(N=>N==="")){alert("Some poll choices are empty");return}}O.length>0&&O.some(te=>{var de,Ae;return!((Ae=(de=te.description)==null?void 0:de.trim)!=null&&Ae.call(de))})&&!confirm("Some media have no descriptions. Continue?")||(P=B&&P||void 0,D=D===""?void 0:D,h("loading"),(async()=>{try{if(O.length>0){const de=O.map(ge=>{const{file:Me,description:lt,id:Le}=ge;if(Le)return ge;{const le=Cn({file:Me,description:lt});return c.v2.mediaAttachments.create(le).then(Oe=>(Oe.id&&(ge.id=Oe.id),Oe))}}),Ae=await Promise.allSettled(de);if(Ae.some(ge=>{var Me;return ge.status==="rejected"||!((Me=ge.value)!=null&&Me.id)})){h("error"),Ae.forEach(ge=>{ge.status==="rejected"&&alert(ge.reason||`Attachment #${i} failed`)});return}}let N={status:D,spoiler_text:P,language:ne,sensitive:B,poll:z,media_ids:O.map(de=>de.id)};a&&Un("@mastodon/edit-media-attributes")?N.media_attributes=O.map(de=>({id:de.id,description:de.description})):a||(N.visibility=G,N.in_reply_to_id=(n==null?void 0:n.id)||void 0),N=Cn(N);let te;if(a)te=await c.v1.statuses.update(a.id,N),be(te,g,{skipThreading:!0});else try{te=await c.v1.statuses.create(N,{idempotencyKey:d.current})}catch{te=await c.v1.statuses.create(N)}h("default"),t({newStatus:te,instance:g})}catch(N){alert((N==null?void 0:N.reason)||N),h("error")}})())},children:[e("div",{class:"toolbar stretch",children:[e("input",{ref:W,type:"text",name:"spoilerText",placeholder:"Content warning",disabled:u==="loading",class:"spoiler-text-field",lang:ne,spellCheck:"true",dir:"auto",style:{opacity:se?1:0,pointerEvents:se?"auto":"none"},onInput:()=>{Ye()}}),e("label",{class:`toolbar-button ${se?"highlight":""}`,title:"Content warning or sensitive media",children:[e("input",{name:"sensitive",type:"checkbox",checked:se,disabled:u==="loading",onChange:_=>{var I,D;const C=_.target.checked;M(C),C?(I=W.current)==null||I.focus():(D=K.current)==null||D.focus()}}),e(E,{icon:`eye-${se?"close":"open"}`})]})," ",e("label",{class:`toolbar-button ${J!=="public"&&!se?"show-field":""} ${J!=="public"?"highlight":""}`,title:`Visibility: ${J}`,children:[e(E,{icon:qe[J],alt:J}),e("select",{name:"visibility",value:J,onChange:_=>{ve(_.target.value)},disabled:u==="loading"||!!a,children:[e("option",{value:"public",children:["Public ",e(E,{icon:"earth"})]}),e("option",{value:"unlisted",children:"Unlisted"}),e("option",{value:"private",children:"Followers only"}),e("option",{value:"direct",children:"Private mention"})]})]})," "]}),e(Ro,{ref:K,placeholder:n?"Post your reply":a?"Edit your post":"What are you doing?",required:(O==null?void 0:O.length)===0,disabled:u==="loading",lang:ne,onInput:()=>{Ye()},maxCharacters:y,performSearch:_=>c.v2.search(_)}),(O==null?void 0:O.length)>0&&e("div",{class:"media-attachments",children:[O.map((_,C)=>{const{id:I,file:D}=_,G=(D==null?void 0:D.size)+(D==null?void 0:D.type)+(D==null?void 0:D.name);return e(Oo,{attachment:_,disabled:u==="loading",lang:ne,onDescriptionChange:B=>{V(P=>{const N=[...P];return N[C].description=B,N})},onRemove:()=>{V(B=>B.filter((P,N)=>N!==C))}},I||G||C)}),e("label",{class:"media-sensitive",children:[e("input",{name:"sensitive",type:"checkbox",checked:se,disabled:u==="loading",onChange:_=>{const C=_.target.checked;M(C)}})," ",e("span",{children:"Mark media as sensitive"})," ",e(E,{icon:`eye-${se?"close":"open"}`})]})]}),!!z&&e(zo,{lang:ne,maxOptions:H,maxExpiration:Z,minExpiration:X,maxCharactersPerOption:q,poll:z,disabled:u==="loading",onInput:_=>{if(_){const C={..._};ee(C)}else ee(null)}}),e("div",{class:"toolbar wrap",style:{justifyContent:"flex-end"},children:[e("span",{children:[e("label",{class:"toolbar-button",children:[e("input",{type:"file",accept:k.join(","),multiple:O.length<v-1,disabled:u==="loading"||O.length>=v||!!z,onChange:_=>{const C=_.target.files;if(!C)return;const I=Array.from(C).map(D=>({file:D,type:D.type,size:D.size,url:URL.createObjectURL(D),id:null,description:null}));O.length+I.length>v?alert(`You can only attach up to ${v} files.`):V(D=>D.concat(I)),_.target.value=""}}),e(E,{icon:"attachment"})]})," ",e("button",{type:"button",class:"toolbar-button",disabled:u==="loading"||!!z||!!O.length,onClick:()=>{ee({options:["",""],expiresIn:24*60*60,multiple:!1})},children:e(E,{icon:"poll",alt:"Add poll"})})," ",e("button",{type:"button",class:"toolbar-button",disabled:u==="loading",onClick:()=>{Te(!0)},children:e(E,{icon:"emoji2"})})]}),e("div",{class:"spacer"}),u==="loading"?e(Ge,{abrupt:!0}):e(Mo,{maxCharacters:y,hidden:u==="loading"}),e("label",{class:`toolbar-button ${ne!==ye.current?"highlight":""}`,children:[e("span",{class:"icon-text",children:(xt=Ao[ne])==null?void 0:xt.native}),e("select",{name:"language",value:ne,onChange:_=>{const{value:C}=_.target;Q(C||Ie),F.session.set("currentLanguage",C||Ie)},disabled:u==="loading",children:Ut.sort(([_,C],[I,D])=>{const{contentTranslationHideLanguages:G=[]}=x.settings;return _===ne||_===ye||_===Ie||G!=null&&G.includes(_)?-1:I===ne||I===ye||I===Ie||G!=null&&G.includes(I)?1:C.localeCompare(D)}).map(([_,C,I])=>e("option",{value:_,children:[C," (",I,")"]}))})]})," ",e("button",{type:"submit",class:"large",disabled:u==="loading",children:n?"Reply":a?"Update":"Post"})]})]})]}),pe&&e(it,{class:"light",onClick:_=>{_.target===_.currentTarget&&Te(!1)},children:e(No,{masto:c,instance:g,onClose:()=>{Te(!1)},onSelect:_=>{const C=` ${_} `,I=K.current;if(!I)return;const{selectionStart:D,selectionEnd:G}=I,B=I.value,P=B.slice(0,D)+C+B.slice(G);I.value=P,I.selectionStart=I.selectionEnd=G+C.length,I.focus(),I.dispatchEvent(new Event("input"))}})})]})}const Ro=Dn((t,n)=>{var b;const{masto:a}=Pe(),[r,o]=j(((b=n.current)==null?void 0:b.value)||""),{maxCharacters:s,performSearch:c=()=>{},...g}=t,h=st(x).composerCharacterCount,d=Y();re(()=>{(async()=>{try{const y=await a.v1.customEmojis.list();d.current=y}catch{}})()},[]);const l=Y(),m=Y("");return re(()=>{let y,v,f;return l.current&&(y=k=>{const{key:L,provide:A,text:T}=k.detail;if(m.current=T,T===""){A(Promise.resolve({matched:!1}));return}if(L===":"){const R=Bo(d.current,T);let H="";R.forEach(q=>{const{shortcode:Z,url:X}=q;H+=`
                <li role="option" data-value="${Se(Z)}">
                <img src="${Se(X)}" width="16" height="16" alt="" loading="lazy" /> 
                :${Se(Z)}:
              </li>`}),$e.innerHTML=H,A(Promise.resolve({matched:R.length>0,fragment:$e}));return}const $={"@":"accounts","#":"hashtags"}[L];A(new Promise(R=>{c({type:$,q:T,limit:5}).then(q=>{if(T!==m.current)return;const Z=q[$];let X="";Z.forEach(K=>{const{name:W,avatarStatic:J,displayName:ve,username:se,acct:M,emojis:ne}=K,Q=Nn(ve,ne);M?X+=`
                    <li role="option" data-value="${Se(M)}">
                      <span class="avatar">
                        <img src="${Se(J)}" width="16" height="16" alt="" loading="lazy" />
                      </span>
                      <span>
                        <b>${Q||se}</b>
                        <br>@${Se(M)}
                      </span>
                    </li>
                  `:X+=`
                    <li role="option" data-value="${Se(W)}">
                      <span>#<b>${Se(W)}</b></span>
                    </li>
                  `,$e.innerHTML=X}),R({matched:Z.length>0,fragment:$e})})}))},l.current.addEventListener("text-expander-change",y),v=k=>{const{key:L,item:A}=k.detail;L===":"?k.detail.value=`:${A.dataset.value}:`:k.detail.value=`${L}${A.dataset.value}`},l.current.addEventListener("text-expander-value",v),f=k=>{const{input:L}=k.detail;o(L.value)},l.current.addEventListener("text-expander-committed",f)),()=>{l.current&&(l.current.removeEventListener("text-expander-change",y),l.current.removeEventListener("text-expander-value",v),l.current.removeEventListener("text-expander-committed",f))}},[]),e("text-expander",{ref:l,keys:"@ # :",children:e("textarea",{autoCapitalize:"sentences",autoComplete:"on",autoCorrect:"on",spellCheck:"true",dir:"auto",rows:"6",cols:"50",...g,ref:n,name:"status",value:r,onInput:y=>{var T;const{scrollHeight:v,offsetHeight:f,clientHeight:k,value:L}=y.target;o(L);const A=f-k;y.target.style.height=L?v+A+"px":null,(T=t.onInput)==null||T.call(t,y)},style:{width:"100%",height:"4em","--text-weight":(1+h/140).toFixed(1)||1}})})});function Mo({maxCharacters:t=500,hidden:n}){const r=st(x).composerCharacterCount,o=t-r;return n?e("meter",{class:"donut",hidden:!0}):e("meter",{class:`donut ${o<=-10?"explode":o<=0?"danger":o<=20?"warning":""}`,value:r,max:t,"data-left":o,title:`${o}/${t}`,style:{"--percentage":r/t*100}})}function Oo({attachment:t,disabled:n,lang:a,onDescriptionChange:r=()=>{},onRemove:o=()=>{}}){const s=Un("@mastodon/edit-media-attributes"),{url:c,type:g,id:u}=t,[h,d]=j(t.description),l=g.split("/")[0],m=Da(r,250),[b,y]=j(!1),v=Y(null);re(()=>{let k;return b&&v.current&&(k=setTimeout(()=>{v.current.focus()},100)),()=>{clearTimeout(k)}},[b]);const f=e(U,{children:u&&!s?e("div",{class:"media-desc",children:[e("span",{class:"tag",children:"Uploaded"}),e("p",{title:h,children:t.description||e("i",{children:"No description"})})]}):e("textarea",{ref:v,value:h||"",lang:a,placeholder:{image:"Image description",video:"Video description",audio:"Audio description"}[l],autoCapitalize:"sentences",autoComplete:"on",autoCorrect:"on",spellCheck:"true",dir:"auto",disabled:n,maxlength:"1500",onInput:k=>{const{value:L}=k.target;d(L),m(L)}})});return e(U,{children:[e("div",{class:"media-attachment",children:[e("div",{class:"media-preview",onClick:()=>{y(!0)},children:l==="image"?e("img",{src:c,alt:""}):l==="video"||l==="gifv"?e("video",{src:c,playsinline:!0,muted:!0}):l==="audio"?e("audio",{src:c,controls:!0}):null}),f,e("div",{class:"media-aside",children:e("button",{type:"button",class:"plain close-button",disabled:n,onClick:o,children:e(E,{icon:"x"})})})]}),b&&e(it,{onClick:k=>{k.target===k.currentTarget&&y(!1)},children:e("div",{id:"media-sheet",class:"sheet sheet-max",children:[e("button",{type:"button",class:"sheet-close",onClick:()=>{y(!1)},children:e(E,{icon:"x"})}),e("header",{children:e("h2",{children:{image:"Edit image description",video:"Edit video description",audio:"Edit audio description"}[l]})}),e("main",{tabIndex:"-1",children:[e("div",{class:"media-preview",children:l==="image"?e("img",{src:c,alt:""}):l==="video"||l==="gifv"?e("video",{src:c,playsinline:!0,controls:!0}):l==="audio"?e("audio",{src:c,controls:!0}):null}),f]})]})})]})}function zo({lang:t,poll:n,disabled:a,onInput:r=()=>{},maxOptions:o,maxExpiration:s,minExpiration:c,maxCharactersPerOption:g}){const{options:u,expiresIn:h,multiple:d}=n;return e("div",{class:`poll ${d?"multiple":""}`,children:[e("div",{class:"poll-choices",children:u.map((l,m)=>e("div",{class:"poll-choice",children:[e("input",{required:!0,type:"text",value:l,disabled:a,maxlength:g,placeholder:`Choice ${m+1}`,lang:t,spellCheck:"true",dir:"auto",onInput:b=>{const{value:y}=b.target;u[m]=y,r(n)}}),e("button",{type:"button",class:"plain2 poll-button",disabled:a||u.length<=1,onClick:()=>{u.splice(m,1),r(n)},children:e(E,{icon:"x",size:"s"})})]},m))}),e("div",{class:"poll-toolbar",children:[e("button",{type:"button",class:"plain2 poll-button",disabled:a||u.length>=o,onClick:()=>{u.push(""),r(n)},children:"+"})," ",e("label",{class:"multiple-choices",children:[e("input",{type:"checkbox",checked:d,disabled:a,onChange:l=>{const{checked:m}=l.target;n.multiple=m,r(n)}})," ","Multiple choices"]}),e("label",{class:"expires-in",children:["Duration"," ",e("select",{value:h,disabled:a,onChange:l=>{const{value:m}=l.target;n.expiresIn=m,r(n)},children:Object.entries(Gn).filter(([l,m])=>m>=c&&m<=s).map(([l,m])=>e("option",{value:m,children:l},m))})]})]}),e("div",{class:"poll-toolbar",children:e("button",{type:"button",class:"plain remove-poll-button",disabled:a,onClick:()=>{r(null)},children:"Remove poll"})})]})}function Bo(t,n){return n=n.toLowerCase(),t.sort((a,r)=>{let o=a.shortcode.toLowerCase(),s=r.shortcode.toLowerCase(),c=o.startsWith(n),g=s.startsWith(n),u=o.includes(n),h=s.includes(n);return c&&g?a.length-r.length:c?-1:g?1:u&&h?a.length-r.length:u?-1:h?1:0}).slice(0,5)}function Se(t){return t.replace(/[&<>"']/g,function(n){return"&#"+n.charCodeAt(0)+";"})}function Cn(t){for(let n in t)(t[n]===null||t[n]===void 0)&&delete t[n];return t}function No({masto:t,instance:n,onClose:a=()=>{},onSelect:r=()=>{}}){const[o,s]=j("default"),c=Y([]),[g,u]=j({}),h=Ke(()=>F.account.get("recentlyUsedCustomEmojis")||[]);return re(()=>{s("loading"),(async()=>{try{const d=await t.v1.customEmojis.list(),l={"--recent--":h.filter(b=>d.find(y=>y.shortcode===b.shortcode))},m=[];d.forEach(b=>{var y,v;if(b.visibleInPicker){if((v=(y=c.current)==null?void 0:y.push)==null||v.call(y,b),!b.category){m.push(b);return}l[b.category]||(l[b.category]=[]),l[b.category].push(b)}}),m.length&&(l["--others--"]=m),u(l),s("default")}catch{s("error")}})()},[]),e("div",{id:"custom-emojis-sheet",class:"sheet",children:[!!a&&e("button",{type:"button",class:"sheet-close",onClick:a,children:e(E,{icon:"x"})}),e("header",{children:[e("b",{children:"Custom emojis"})," ",o==="loading"?e(Ge,{}):e("small",{class:"insignificant",children:[" • ",n]})]}),e("main",{children:e("div",{class:"custom-emojis-list",children:[o==="error"&&e("div",{class:"ui-state",children:e("p",{children:"Error loading custom emojis"})}),o==="default"&&Object.entries(g).map(([d,l])=>!!(l!=null&&l.length)&&e(U,{children:[e("div",{class:"section-header",children:{"--recent--":"Recently used","--others--":"Others"}[d]||d}),e("section",{children:l.map(m=>e("button",{type:"button",class:"plain4",onClick:()=>{a(),requestAnimationFrame(()=>{r(`:${m.shortcode}:`)});let b=F.account.get("recentlyUsedCustomEmojis")||[];const y=b.findIndex(v=>v.shortcode===m.shortcode);y!==-1?(b.splice(y,1),b.unshift(m)):(b.unshift(m),b=b.filter(v=>{var f,k;return(k=(f=c.current)==null?void 0:f.find)==null?void 0:k.call(f,L=>L.shortcode===v.shortcode)}),b=b.slice(0,10)),F.account.set("recentlyUsedCustomEmojis",b)},title:`:${m.shortcode}:`,children:e("img",{src:m.url||m.staticUrl,alt:m.shortcode,width:"16",height:"16",loading:"lazy",decoding:"async"})},m))})]}))]})})]})}const{VITE_CLIENT_NAME:In}={VITE_CLIENT_NAME:"Phanpy",VITE_CLIENT_ID:"social.phanpy",VITE_WEBSITE:"https://phanpy.social",VITE_APP_ENV:"production",BASE_URL:"./",MODE:"production",DEV:!1,PROD:!0,SSR:!1};function Yo(t,n){function a(){const{currentLocation:r}=x,o=Array.isArray(n);let s=o?n:[];!o&&/:?\w+\?/.test(n)&&(s.push(n.replace(/(:\w+)\?/g,"$1")),s.push(n.replace(/\/?:\w+\?/g,"")));let c=!1;s.length?c=s.some(g=>pn(g,r)):n&&(c=pn(n,r)),c&&(document.title=t?`${t} / ${In}`:In)}Nt(()=>(a(),Sn(x,"currentLocation",a)),[t,n])}export{Vn as A,Yo as B,Bn as C,zn as D,ot as E,Hn as F,zt as G,Ja as H,E as I,fn as J,_n as K,ct as L,Ot as M,tt as N,Ka as O,Ve as P,Ho as Q,kt as R,Tn as S,Qa as T,Ko as U,Wo as V,qo as W,oo as X,Jo as Y,w as _,Pe as a,x as b,We as c,Go as d,Vt as e,F as f,Be as g,ja as h,Ce as i,Ge as j,it as k,jn as l,be as m,bt as n,eo as o,yn as p,gt as q,po as r,Un as s,wn as t,Uo as u,Ra as v,_t as w,uo as x,mo as y,Re as z};
//# sourceMappingURL=useTitle-16514e6e.js.map
